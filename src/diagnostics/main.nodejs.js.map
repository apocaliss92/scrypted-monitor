{"version":3,"file":"main.nodejs.js","mappings":"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","sources":["../../../sdk/dist/src/index.js","../../../sdk/dist/src/storage-settings.js","../../../sdk/dist/types/gen/index.js","../../../common/src/media-helpers.ts","../src/main.ts","../../../server/src/deferred.ts","../../../server/src/fetch/http-fetch.ts","../../../server/src/fetch/index.ts","../../../server/src/media-helpers.ts","../../../server/src/sleep.ts","../../../sdk/polyfill/sharp.js","../../../server/node_modules/debug/src/browser.js","../../../server/node_modules/debug/src/common.js","../../../server/node_modules/debug/src/index.js","../../../server/node_modules/debug/src/node.js","../../../server/node_modules/follow-redirects/debug.js","../../../server/node_modules/follow-redirects/index.js","../../../server/node_modules/ms/index.js","../external node-commonjs \"assert\"","../external node-commonjs \"child_process\"","../external node-commonjs \"events\"","../external node-commonjs \"fs\"","../external node-commonjs \"http\"","../external node-commonjs \"https\"","../external node-commonjs \"net\"","../external node-commonjs \"os\"","../external node-commonjs \"process\"","../external node-commonjs \"stream\"","../external node-commonjs \"tty\"","../external node-commonjs \"url\"","../external node-commonjs \"util\"","../webpack/bootstrap","../webpack/startup"],"sourcesContent":["\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sdk = exports.MixinDeviceBase = exports.ScryptedDeviceBase = void 0;\n__exportStar(require(\"../types/gen/index\"), exports);\nconst index_1 = require(\"../types/gen/index\");\n/**\n * @category Core Reference\n */\nclass ScryptedDeviceBase extends index_1.DeviceBase {\n    constructor(nativeId) {\n        super();\n        this.nativeId = nativeId;\n    }\n    get storage() {\n        if (!this._storage) {\n            this._storage = deviceManager.getDeviceStorage(this.nativeId);\n        }\n        return this._storage;\n    }\n    get log() {\n        if (!this._log) {\n            this._log = deviceManager.getDeviceLogger(this.nativeId);\n        }\n        return this._log;\n    }\n    get console() {\n        if (!this._console) {\n            this._console = deviceManager.getDeviceConsole(this.nativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return deviceManager.getMixinConsole(mediaObject.sourceId, this.nativeId);\n    }\n    _lazyLoadDeviceState() {\n        if (!this._deviceState) {\n            if (this.nativeId) {\n                this._deviceState = deviceManager.getDeviceState(this.nativeId);\n            }\n            else {\n                this._deviceState = deviceManager.getDeviceState();\n            }\n        }\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return deviceManager.onDeviceEvent(this.nativeId, eventInterface, eventData);\n    }\n}\nexports.ScryptedDeviceBase = ScryptedDeviceBase;\n/**\n * @category Mixin Reference\n */\nclass MixinDeviceBase extends index_1.DeviceBase {\n    constructor(options) {\n        super();\n        this._listeners = new Set();\n        this.mixinDevice = options.mixinDevice;\n        this.mixinDeviceInterfaces = options.mixinDeviceInterfaces;\n        this.mixinStorageSuffix = options.mixinStorageSuffix;\n        this._deviceState = options.mixinDeviceState;\n        this.nativeId = systemManager.getDeviceById(this.id).nativeId;\n        this.mixinProviderNativeId = options.mixinProviderNativeId;\n        // RpcProxy will trap all properties, and the following check/hack will determine\n        // if the device state came from another node worker thread.\n        // This should ultimately be discouraged and warned at some point in the future.\n        if (this._deviceState.__rpcproxy_traps_all_properties && typeof this._deviceState.id === 'string') {\n            this._deviceState = deviceManager.createDeviceState(this._deviceState.id, this._deviceState.setState);\n        }\n    }\n    get storage() {\n        if (!this._storage) {\n            const mixinStorageSuffix = this.mixinStorageSuffix;\n            const mixinStorageKey = this.id + (mixinStorageSuffix ? ':' + mixinStorageSuffix : '');\n            this._storage = deviceManager.getMixinStorage(mixinStorageKey, this.mixinProviderNativeId);\n        }\n        return this._storage;\n    }\n    get console() {\n        if (!this._console) {\n            if (deviceManager.getMixinConsole)\n                this._console = deviceManager.getMixinConsole(this.id, this.mixinProviderNativeId);\n            else\n                this._console = deviceManager.getDeviceConsole(this.mixinProviderNativeId);\n        }\n        return this._console;\n    }\n    async createMediaObject(data, mimeType) {\n        return mediaManager.createMediaObject(data, mimeType, {\n            sourceId: this.id,\n        });\n    }\n    getMediaObjectConsole(mediaObject) {\n        if (typeof mediaObject.sourceId !== 'string')\n            return this.console;\n        return deviceManager.getMixinConsole(mediaObject.sourceId, this.mixinProviderNativeId);\n    }\n    /**\n     * Fire an event for this device.\n     */\n    onDeviceEvent(eventInterface, eventData) {\n        return deviceManager.onMixinEvent(this.id, this, eventInterface, eventData);\n    }\n    _lazyLoadDeviceState() {\n    }\n    manageListener(listener) {\n        this._listeners.add(listener);\n    }\n    release() {\n        for (const l of this._listeners) {\n            l.removeListener();\n        }\n    }\n}\nexports.MixinDeviceBase = MixinDeviceBase;\n(function () {\n    function _createGetState(state) {\n        return function () {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            return this._deviceState?.[state];\n        };\n    }\n    function _createSetState(state) {\n        return function (value) {\n            this._lazyLoadDeviceState();\n            // @ts-ignore: accessing private property\n            if (!this._deviceState) {\n                console.warn('device state is unavailable. the device must be discovered with deviceManager.onDeviceDiscovered or deviceManager.onDevicesChanged before the state can be set.');\n            }\n            else {\n                // @ts-ignore: accessing private property\n                this._deviceState[state] = value;\n            }\n        };\n    }\n    for (const field of Object.values(index_1.ScryptedInterfaceProperty)) {\n        if (field === index_1.ScryptedInterfaceProperty.nativeId)\n            continue;\n        Object.defineProperty(ScryptedDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n        Object.defineProperty(MixinDeviceBase.prototype, field, {\n            set: _createSetState(field),\n            get: _createGetState(field),\n        });\n    }\n})();\nexports.sdk = {};\ntry {\n    let runtimeAPI;\n    try {\n        runtimeAPI = pluginRuntimeAPI;\n    }\n    catch (e) {\n    }\n    Object.assign(exports.sdk, {\n        log: deviceManager.getDeviceLogger(undefined),\n        deviceManager,\n        endpointManager,\n        mediaManager,\n        systemManager,\n        pluginHostAPI,\n        ...runtimeAPI,\n    });\n    try {\n        systemManager.setScryptedInterfaceDescriptors?.(index_1.TYPES_VERSION, index_1.ScryptedInterfaceDescriptors)?.catch(() => { });\n    }\n    catch (e) {\n    }\n}\ncatch (e) {\n    console.error('sdk initialization error, import @scrypted/types or use @scrypted/client instead', e);\n}\nexports.default = exports.sdk;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StorageSettings = void 0;\nconst _1 = __importStar(require(\".\"));\nconst { systemManager } = _1.default;\nfunction parseValue(value, setting, readDefaultValue, rawDevice) {\n    if (value === null || value === undefined) {\n        return readDefaultValue();\n    }\n    const type = setting.multiple ? 'array' : setting.type;\n    if (type === 'boolean') {\n        if (value === 'true')\n            return true;\n        if (value === 'false')\n            return false;\n        return readDefaultValue() || false;\n    }\n    if (type === 'number') {\n        const n = parseFloat(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'integer') {\n        const n = parseInt(value);\n        if (!isNaN(n))\n            return n;\n        return readDefaultValue() || 0;\n    }\n    if (type === 'array') {\n        if (!value)\n            return readDefaultValue() || [];\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue() || [];\n        }\n    }\n    if (type === 'device') {\n        if (rawDevice)\n            return value;\n        return systemManager.getDeviceById(value) || systemManager.getDeviceById(readDefaultValue());\n    }\n    // string type, so check if it is json.\n    if (value && setting.json) {\n        try {\n            return JSON.parse(value);\n        }\n        catch (e) {\n            return readDefaultValue();\n        }\n    }\n    return value || readDefaultValue();\n}\nclass StorageSettings {\n    constructor(device, settings) {\n        this.device = device;\n        this.settings = settings;\n        this.values = {};\n        this.hasValue = {};\n        for (const key of Object.keys(settings)) {\n            const setting = settings[key];\n            const rawGet = () => this.getItem(key);\n            let get;\n            if (setting.type !== 'clippath') {\n                get = rawGet;\n            }\n            else {\n                // maybe need a mapPut. clippath is the only complex type at the moment.\n                get = () => {\n                    try {\n                        return JSON.parse(rawGet());\n                    }\n                    catch (e) {\n                    }\n                };\n            }\n            Object.defineProperty(this.values, key, {\n                get,\n                set: value => this.putSetting(key, value),\n                enumerable: true,\n            });\n            Object.defineProperty(this.hasValue, key, {\n                get: () => this.device.storage.getItem(key) != null,\n                enumerable: true,\n            });\n        }\n    }\n    get keys() {\n        const ret = {};\n        for (const key of Object.keys(this.settings)) {\n            ret[key] = key;\n        }\n        return ret;\n    }\n    async getSettings() {\n        const onGet = await this.options?.onGet?.();\n        const ret = [];\n        for (const [key, setting] of Object.entries(this.settings)) {\n            let s = Object.assign({}, setting);\n            if (onGet?.[key])\n                s = Object.assign(s, onGet[key]);\n            if (s.onGet)\n                s = Object.assign(s, await s.onGet());\n            if (s.hide || await this.options?.hide?.[key]?.())\n                continue;\n            s.key = key;\n            s.value = this.getItemInternal(key, s, true);\n            ret.push(s);\n            delete s.onPut;\n            delete s.onGet;\n            delete s.mapPut;\n            delete s.mapGet;\n        }\n        return ret;\n    }\n    async putSetting(key, value) {\n        const setting = this.settings[key];\n        let oldValue;\n        if (setting)\n            oldValue = this.getItemInternal(key, setting);\n        return this.putSettingInternal(setting, oldValue, key, value);\n    }\n    putSettingInternal(setting, oldValue, key, value) {\n        if (!setting?.noStore) {\n            if (setting?.mapPut)\n                value = setting.mapPut(oldValue, value);\n            // nullish values should be removed, since Storage can't persist them correctly.\n            if (value == null)\n                this.device.storage.removeItem(key);\n            else if (typeof value === 'object')\n                this.device.storage.setItem(key, JSON.stringify(value));\n            else\n                this.device.storage.setItem(key, value?.toString());\n        }\n        setting?.onPut?.(oldValue, value);\n        if (!setting?.hide)\n            this.device.onDeviceEvent(_1.ScryptedInterface.Settings, undefined);\n    }\n    getItemInternal(key, setting, rawDevice) {\n        if (!setting)\n            return this.device.storage.getItem(key);\n        const readDefaultValue = () => {\n            if (setting.persistedDefaultValue != null) {\n                this.putSettingInternal(setting, undefined, key, setting.persistedDefaultValue);\n                return setting.persistedDefaultValue;\n            }\n            return setting.defaultValue;\n        };\n        const ret = parseValue(this.device.storage.getItem(key), setting, readDefaultValue, rawDevice);\n        return setting.mapGet ? setting.mapGet(ret) : ret;\n    }\n    getItem(key) {\n        return this.getItemInternal(key, this.settings[key]);\n    }\n}\nexports.StorageSettings = StorageSettings;\n//# sourceMappingURL=storage-settings.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ScryptedMimeTypes = exports.ScryptedInterface = exports.MediaPlayerState = exports.SecuritySystemObstruction = exports.SecuritySystemMode = exports.AirQuality = exports.AirPurifierMode = exports.AirPurifierStatus = exports.ChargeState = exports.LockState = exports.PanTiltZoomMovement = exports.ThermostatMode = exports.TemperatureUnit = exports.FanMode = exports.HumidityMode = exports.ScryptedDeviceType = exports.ScryptedInterfaceDescriptors = exports.ScryptedInterfaceMethod = exports.ScryptedInterfaceProperty = exports.DeviceBase = exports.TYPES_VERSION = void 0;\nexports.TYPES_VERSION = \"0.3.64\";\nclass DeviceBase {\n}\nexports.DeviceBase = DeviceBase;\nvar ScryptedInterfaceProperty;\n(function (ScryptedInterfaceProperty) {\n    ScryptedInterfaceProperty[\"id\"] = \"id\";\n    ScryptedInterfaceProperty[\"info\"] = \"info\";\n    ScryptedInterfaceProperty[\"interfaces\"] = \"interfaces\";\n    ScryptedInterfaceProperty[\"mixins\"] = \"mixins\";\n    ScryptedInterfaceProperty[\"name\"] = \"name\";\n    ScryptedInterfaceProperty[\"nativeId\"] = \"nativeId\";\n    ScryptedInterfaceProperty[\"pluginId\"] = \"pluginId\";\n    ScryptedInterfaceProperty[\"providedInterfaces\"] = \"providedInterfaces\";\n    ScryptedInterfaceProperty[\"providedName\"] = \"providedName\";\n    ScryptedInterfaceProperty[\"providedRoom\"] = \"providedRoom\";\n    ScryptedInterfaceProperty[\"providedType\"] = \"providedType\";\n    ScryptedInterfaceProperty[\"providerId\"] = \"providerId\";\n    ScryptedInterfaceProperty[\"room\"] = \"room\";\n    ScryptedInterfaceProperty[\"type\"] = \"type\";\n    ScryptedInterfaceProperty[\"scryptedRuntimeArguments\"] = \"scryptedRuntimeArguments\";\n    ScryptedInterfaceProperty[\"on\"] = \"on\";\n    ScryptedInterfaceProperty[\"brightness\"] = \"brightness\";\n    ScryptedInterfaceProperty[\"colorTemperature\"] = \"colorTemperature\";\n    ScryptedInterfaceProperty[\"rgb\"] = \"rgb\";\n    ScryptedInterfaceProperty[\"hsv\"] = \"hsv\";\n    ScryptedInterfaceProperty[\"running\"] = \"running\";\n    ScryptedInterfaceProperty[\"paused\"] = \"paused\";\n    ScryptedInterfaceProperty[\"docked\"] = \"docked\";\n    ScryptedInterfaceProperty[\"temperatureSetting\"] = \"temperatureSetting\";\n    ScryptedInterfaceProperty[\"temperature\"] = \"temperature\";\n    ScryptedInterfaceProperty[\"temperatureUnit\"] = \"temperatureUnit\";\n    ScryptedInterfaceProperty[\"humidity\"] = \"humidity\";\n    ScryptedInterfaceProperty[\"audioVolumes\"] = \"audioVolumes\";\n    ScryptedInterfaceProperty[\"recordingActive\"] = \"recordingActive\";\n    ScryptedInterfaceProperty[\"ptzCapabilities\"] = \"ptzCapabilities\";\n    ScryptedInterfaceProperty[\"lockState\"] = \"lockState\";\n    ScryptedInterfaceProperty[\"entryOpen\"] = \"entryOpen\";\n    ScryptedInterfaceProperty[\"batteryLevel\"] = \"batteryLevel\";\n    ScryptedInterfaceProperty[\"chargeState\"] = \"chargeState\";\n    ScryptedInterfaceProperty[\"online\"] = \"online\";\n    ScryptedInterfaceProperty[\"fromMimeType\"] = \"fromMimeType\";\n    ScryptedInterfaceProperty[\"toMimeType\"] = \"toMimeType\";\n    ScryptedInterfaceProperty[\"converters\"] = \"converters\";\n    ScryptedInterfaceProperty[\"binaryState\"] = \"binaryState\";\n    ScryptedInterfaceProperty[\"tampered\"] = \"tampered\";\n    ScryptedInterfaceProperty[\"powerDetected\"] = \"powerDetected\";\n    ScryptedInterfaceProperty[\"audioDetected\"] = \"audioDetected\";\n    ScryptedInterfaceProperty[\"motionDetected\"] = \"motionDetected\";\n    ScryptedInterfaceProperty[\"ambientLight\"] = \"ambientLight\";\n    ScryptedInterfaceProperty[\"occupied\"] = \"occupied\";\n    ScryptedInterfaceProperty[\"flooded\"] = \"flooded\";\n    ScryptedInterfaceProperty[\"ultraviolet\"] = \"ultraviolet\";\n    ScryptedInterfaceProperty[\"luminance\"] = \"luminance\";\n    ScryptedInterfaceProperty[\"position\"] = \"position\";\n    ScryptedInterfaceProperty[\"securitySystemState\"] = \"securitySystemState\";\n    ScryptedInterfaceProperty[\"pm10Density\"] = \"pm10Density\";\n    ScryptedInterfaceProperty[\"pm25Density\"] = \"pm25Density\";\n    ScryptedInterfaceProperty[\"vocDensity\"] = \"vocDensity\";\n    ScryptedInterfaceProperty[\"noxDensity\"] = \"noxDensity\";\n    ScryptedInterfaceProperty[\"co2ppm\"] = \"co2ppm\";\n    ScryptedInterfaceProperty[\"airQuality\"] = \"airQuality\";\n    ScryptedInterfaceProperty[\"airPurifierState\"] = \"airPurifierState\";\n    ScryptedInterfaceProperty[\"filterChangeIndication\"] = \"filterChangeIndication\";\n    ScryptedInterfaceProperty[\"filterLifeLevel\"] = \"filterLifeLevel\";\n    ScryptedInterfaceProperty[\"humiditySetting\"] = \"humiditySetting\";\n    ScryptedInterfaceProperty[\"fan\"] = \"fan\";\n    ScryptedInterfaceProperty[\"applicationInfo\"] = \"applicationInfo\";\n    ScryptedInterfaceProperty[\"systemDevice\"] = \"systemDevice\";\n})(ScryptedInterfaceProperty || (exports.ScryptedInterfaceProperty = ScryptedInterfaceProperty = {}));\nvar ScryptedInterfaceMethod;\n(function (ScryptedInterfaceMethod) {\n    ScryptedInterfaceMethod[\"listen\"] = \"listen\";\n    ScryptedInterfaceMethod[\"probe\"] = \"probe\";\n    ScryptedInterfaceMethod[\"setMixins\"] = \"setMixins\";\n    ScryptedInterfaceMethod[\"setName\"] = \"setName\";\n    ScryptedInterfaceMethod[\"setRoom\"] = \"setRoom\";\n    ScryptedInterfaceMethod[\"setType\"] = \"setType\";\n    ScryptedInterfaceMethod[\"getPluginJson\"] = \"getPluginJson\";\n    ScryptedInterfaceMethod[\"turnOff\"] = \"turnOff\";\n    ScryptedInterfaceMethod[\"turnOn\"] = \"turnOn\";\n    ScryptedInterfaceMethod[\"setBrightness\"] = \"setBrightness\";\n    ScryptedInterfaceMethod[\"getTemperatureMaxK\"] = \"getTemperatureMaxK\";\n    ScryptedInterfaceMethod[\"getTemperatureMinK\"] = \"getTemperatureMinK\";\n    ScryptedInterfaceMethod[\"setColorTemperature\"] = \"setColorTemperature\";\n    ScryptedInterfaceMethod[\"setRgb\"] = \"setRgb\";\n    ScryptedInterfaceMethod[\"setHsv\"] = \"setHsv\";\n    ScryptedInterfaceMethod[\"sendNotification\"] = \"sendNotification\";\n    ScryptedInterfaceMethod[\"start\"] = \"start\";\n    ScryptedInterfaceMethod[\"stop\"] = \"stop\";\n    ScryptedInterfaceMethod[\"pause\"] = \"pause\";\n    ScryptedInterfaceMethod[\"resume\"] = \"resume\";\n    ScryptedInterfaceMethod[\"dock\"] = \"dock\";\n    ScryptedInterfaceMethod[\"setTemperature\"] = \"setTemperature\";\n    ScryptedInterfaceMethod[\"setTemperatureUnit\"] = \"setTemperatureUnit\";\n    ScryptedInterfaceMethod[\"getPictureOptions\"] = \"getPictureOptions\";\n    ScryptedInterfaceMethod[\"takePicture\"] = \"takePicture\";\n    ScryptedInterfaceMethod[\"getAudioStream\"] = \"getAudioStream\";\n    ScryptedInterfaceMethod[\"setAudioVolumes\"] = \"setAudioVolumes\";\n    ScryptedInterfaceMethod[\"startDisplay\"] = \"startDisplay\";\n    ScryptedInterfaceMethod[\"stopDisplay\"] = \"stopDisplay\";\n    ScryptedInterfaceMethod[\"getVideoStream\"] = \"getVideoStream\";\n    ScryptedInterfaceMethod[\"getVideoStreamOptions\"] = \"getVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"getPrivacyMasks\"] = \"getPrivacyMasks\";\n    ScryptedInterfaceMethod[\"setPrivacyMasks\"] = \"setPrivacyMasks\";\n    ScryptedInterfaceMethod[\"getRecordingStream\"] = \"getRecordingStream\";\n    ScryptedInterfaceMethod[\"getRecordingStreamCurrentTime\"] = \"getRecordingStreamCurrentTime\";\n    ScryptedInterfaceMethod[\"getRecordingStreamOptions\"] = \"getRecordingStreamOptions\";\n    ScryptedInterfaceMethod[\"getRecordingStreamThumbnail\"] = \"getRecordingStreamThumbnail\";\n    ScryptedInterfaceMethod[\"deleteRecordingStream\"] = \"deleteRecordingStream\";\n    ScryptedInterfaceMethod[\"setRecordingActive\"] = \"setRecordingActive\";\n    ScryptedInterfaceMethod[\"ptzCommand\"] = \"ptzCommand\";\n    ScryptedInterfaceMethod[\"getRecordedEvents\"] = \"getRecordedEvents\";\n    ScryptedInterfaceMethod[\"getVideoClip\"] = \"getVideoClip\";\n    ScryptedInterfaceMethod[\"getVideoClips\"] = \"getVideoClips\";\n    ScryptedInterfaceMethod[\"getVideoClipThumbnail\"] = \"getVideoClipThumbnail\";\n    ScryptedInterfaceMethod[\"removeVideoClips\"] = \"removeVideoClips\";\n    ScryptedInterfaceMethod[\"setVideoStreamOptions\"] = \"setVideoStreamOptions\";\n    ScryptedInterfaceMethod[\"startIntercom\"] = \"startIntercom\";\n    ScryptedInterfaceMethod[\"stopIntercom\"] = \"stopIntercom\";\n    ScryptedInterfaceMethod[\"lock\"] = \"lock\";\n    ScryptedInterfaceMethod[\"unlock\"] = \"unlock\";\n    ScryptedInterfaceMethod[\"addPassword\"] = \"addPassword\";\n    ScryptedInterfaceMethod[\"getPasswords\"] = \"getPasswords\";\n    ScryptedInterfaceMethod[\"removePassword\"] = \"removePassword\";\n    ScryptedInterfaceMethod[\"activate\"] = \"activate\";\n    ScryptedInterfaceMethod[\"deactivate\"] = \"deactivate\";\n    ScryptedInterfaceMethod[\"isReversible\"] = \"isReversible\";\n    ScryptedInterfaceMethod[\"closeEntry\"] = \"closeEntry\";\n    ScryptedInterfaceMethod[\"openEntry\"] = \"openEntry\";\n    ScryptedInterfaceMethod[\"getDevice\"] = \"getDevice\";\n    ScryptedInterfaceMethod[\"releaseDevice\"] = \"releaseDevice\";\n    ScryptedInterfaceMethod[\"adoptDevice\"] = \"adoptDevice\";\n    ScryptedInterfaceMethod[\"discoverDevices\"] = \"discoverDevices\";\n    ScryptedInterfaceMethod[\"createDevice\"] = \"createDevice\";\n    ScryptedInterfaceMethod[\"getCreateDeviceSettings\"] = \"getCreateDeviceSettings\";\n    ScryptedInterfaceMethod[\"reboot\"] = \"reboot\";\n    ScryptedInterfaceMethod[\"getRefreshFrequency\"] = \"getRefreshFrequency\";\n    ScryptedInterfaceMethod[\"refresh\"] = \"refresh\";\n    ScryptedInterfaceMethod[\"getMediaStatus\"] = \"getMediaStatus\";\n    ScryptedInterfaceMethod[\"load\"] = \"load\";\n    ScryptedInterfaceMethod[\"seek\"] = \"seek\";\n    ScryptedInterfaceMethod[\"skipNext\"] = \"skipNext\";\n    ScryptedInterfaceMethod[\"skipPrevious\"] = \"skipPrevious\";\n    ScryptedInterfaceMethod[\"convert\"] = \"convert\";\n    ScryptedInterfaceMethod[\"convertMedia\"] = \"convertMedia\";\n    ScryptedInterfaceMethod[\"getSettings\"] = \"getSettings\";\n    ScryptedInterfaceMethod[\"putSetting\"] = \"putSetting\";\n    ScryptedInterfaceMethod[\"armSecuritySystem\"] = \"armSecuritySystem\";\n    ScryptedInterfaceMethod[\"disarmSecuritySystem\"] = \"disarmSecuritySystem\";\n    ScryptedInterfaceMethod[\"setAirPurifierState\"] = \"setAirPurifierState\";\n    ScryptedInterfaceMethod[\"getReadmeMarkdown\"] = \"getReadmeMarkdown\";\n    ScryptedInterfaceMethod[\"getOauthUrl\"] = \"getOauthUrl\";\n    ScryptedInterfaceMethod[\"onOauthCallback\"] = \"onOauthCallback\";\n    ScryptedInterfaceMethod[\"canMixin\"] = \"canMixin\";\n    ScryptedInterfaceMethod[\"getMixin\"] = \"getMixin\";\n    ScryptedInterfaceMethod[\"releaseMixin\"] = \"releaseMixin\";\n    ScryptedInterfaceMethod[\"onRequest\"] = \"onRequest\";\n    ScryptedInterfaceMethod[\"onConnection\"] = \"onConnection\";\n    ScryptedInterfaceMethod[\"onPush\"] = \"onPush\";\n    ScryptedInterfaceMethod[\"run\"] = \"run\";\n    ScryptedInterfaceMethod[\"eval\"] = \"eval\";\n    ScryptedInterfaceMethod[\"loadScripts\"] = \"loadScripts\";\n    ScryptedInterfaceMethod[\"saveScript\"] = \"saveScript\";\n    ScryptedInterfaceMethod[\"trackObjects\"] = \"trackObjects\";\n    ScryptedInterfaceMethod[\"getDetectionInput\"] = \"getDetectionInput\";\n    ScryptedInterfaceMethod[\"getObjectTypes\"] = \"getObjectTypes\";\n    ScryptedInterfaceMethod[\"detectObjects\"] = \"detectObjects\";\n    ScryptedInterfaceMethod[\"generateObjectDetections\"] = \"generateObjectDetections\";\n    ScryptedInterfaceMethod[\"getDetectionModel\"] = \"getDetectionModel\";\n    ScryptedInterfaceMethod[\"setHumidity\"] = \"setHumidity\";\n    ScryptedInterfaceMethod[\"setFan\"] = \"setFan\";\n    ScryptedInterfaceMethod[\"startRTCSignalingSession\"] = \"startRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"createRTCSignalingSession\"] = \"createRTCSignalingSession\";\n    ScryptedInterfaceMethod[\"getScryptedUserAccessControl\"] = \"getScryptedUserAccessControl\";\n    ScryptedInterfaceMethod[\"generateVideoFrames\"] = \"generateVideoFrames\";\n    ScryptedInterfaceMethod[\"connectStream\"] = \"connectStream\";\n    ScryptedInterfaceMethod[\"getTTYSettings\"] = \"getTTYSettings\";\n})(ScryptedInterfaceMethod || (exports.ScryptedInterfaceMethod = ScryptedInterfaceMethod = {}));\nexports.ScryptedInterfaceDescriptors = {\n    ScryptedDevice: {\n        name: 'ScryptedDevice',\n        methods: [\n            'listen',\n            'probe',\n            'setMixins',\n            'setName',\n            'setRoom',\n            'setType'\n        ],\n        properties: [\n            'id',\n            'info',\n            'interfaces',\n            'mixins',\n            'name',\n            'nativeId',\n            'pluginId',\n            'providedInterfaces',\n            'providedName',\n            'providedRoom',\n            'providedType',\n            'providerId',\n            'room',\n            'type'\n        ]\n    },\n    ScryptedPlugin: {\n        name: 'ScryptedPlugin',\n        methods: [\n            'getPluginJson'\n        ],\n        properties: []\n    },\n    ScryptedPluginRuntime: {\n        name: 'ScryptedPluginRuntime',\n        methods: [],\n        properties: [\n            'scryptedRuntimeArguments'\n        ]\n    },\n    OnOff: {\n        name: 'OnOff',\n        methods: [\n            'turnOff',\n            'turnOn'\n        ],\n        properties: [\n            'on'\n        ]\n    },\n    Brightness: {\n        name: 'Brightness',\n        methods: [\n            'setBrightness'\n        ],\n        properties: [\n            'brightness'\n        ]\n    },\n    ColorSettingTemperature: {\n        name: 'ColorSettingTemperature',\n        methods: [\n            'getTemperatureMaxK',\n            'getTemperatureMinK',\n            'setColorTemperature'\n        ],\n        properties: [\n            'colorTemperature'\n        ]\n    },\n    ColorSettingRgb: {\n        name: 'ColorSettingRgb',\n        methods: [\n            'setRgb'\n        ],\n        properties: [\n            'rgb'\n        ]\n    },\n    ColorSettingHsv: {\n        name: 'ColorSettingHsv',\n        methods: [\n            'setHsv'\n        ],\n        properties: [\n            'hsv'\n        ]\n    },\n    Notifier: {\n        name: 'Notifier',\n        methods: [\n            'sendNotification'\n        ],\n        properties: []\n    },\n    StartStop: {\n        name: 'StartStop',\n        methods: [\n            'start',\n            'stop'\n        ],\n        properties: [\n            'running'\n        ]\n    },\n    Pause: {\n        name: 'Pause',\n        methods: [\n            'pause',\n            'resume'\n        ],\n        properties: [\n            'paused'\n        ]\n    },\n    Dock: {\n        name: 'Dock',\n        methods: [\n            'dock'\n        ],\n        properties: [\n            'docked'\n        ]\n    },\n    TemperatureSetting: {\n        name: 'TemperatureSetting',\n        methods: [\n            'setTemperature'\n        ],\n        properties: [\n            'temperatureSetting'\n        ]\n    },\n    Thermometer: {\n        name: 'Thermometer',\n        methods: [\n            'setTemperatureUnit'\n        ],\n        properties: [\n            'temperature',\n            'temperatureUnit'\n        ]\n    },\n    HumiditySensor: {\n        name: 'HumiditySensor',\n        methods: [],\n        properties: [\n            'humidity'\n        ]\n    },\n    Camera: {\n        name: 'Camera',\n        methods: [\n            'getPictureOptions',\n            'takePicture'\n        ],\n        properties: []\n    },\n    Microphone: {\n        name: 'Microphone',\n        methods: [\n            'getAudioStream'\n        ],\n        properties: []\n    },\n    AudioVolumeControl: {\n        name: 'AudioVolumeControl',\n        methods: [\n            'setAudioVolumes'\n        ],\n        properties: [\n            'audioVolumes'\n        ]\n    },\n    Display: {\n        name: 'Display',\n        methods: [\n            'startDisplay',\n            'stopDisplay'\n        ],\n        properties: []\n    },\n    VideoCamera: {\n        name: 'VideoCamera',\n        methods: [\n            'getVideoStream',\n            'getVideoStreamOptions'\n        ],\n        properties: []\n    },\n    VideoCameraMask: {\n        name: 'VideoCameraMask',\n        methods: [\n            'getPrivacyMasks',\n            'setPrivacyMasks'\n        ],\n        properties: []\n    },\n    VideoRecorder: {\n        name: 'VideoRecorder',\n        methods: [\n            'getRecordingStream',\n            'getRecordingStreamCurrentTime',\n            'getRecordingStreamOptions',\n            'getRecordingStreamThumbnail'\n        ],\n        properties: [\n            'recordingActive'\n        ]\n    },\n    VideoRecorderManagement: {\n        name: 'VideoRecorderManagement',\n        methods: [\n            'deleteRecordingStream',\n            'setRecordingActive'\n        ],\n        properties: []\n    },\n    PanTiltZoom: {\n        name: 'PanTiltZoom',\n        methods: [\n            'ptzCommand'\n        ],\n        properties: [\n            'ptzCapabilities'\n        ]\n    },\n    EventRecorder: {\n        name: 'EventRecorder',\n        methods: [\n            'getRecordedEvents'\n        ],\n        properties: []\n    },\n    VideoClips: {\n        name: 'VideoClips',\n        methods: [\n            'getVideoClip',\n            'getVideoClips',\n            'getVideoClipThumbnail',\n            'removeVideoClips'\n        ],\n        properties: []\n    },\n    VideoCameraConfiguration: {\n        name: 'VideoCameraConfiguration',\n        methods: [\n            'setVideoStreamOptions'\n        ],\n        properties: []\n    },\n    Intercom: {\n        name: 'Intercom',\n        methods: [\n            'startIntercom',\n            'stopIntercom'\n        ],\n        properties: []\n    },\n    Lock: {\n        name: 'Lock',\n        methods: [\n            'lock',\n            'unlock'\n        ],\n        properties: [\n            'lockState'\n        ]\n    },\n    PasswordStore: {\n        name: 'PasswordStore',\n        methods: [\n            'addPassword',\n            'getPasswords',\n            'removePassword'\n        ],\n        properties: []\n    },\n    Scene: {\n        name: 'Scene',\n        methods: [\n            'activate',\n            'deactivate',\n            'isReversible'\n        ],\n        properties: []\n    },\n    Entry: {\n        name: 'Entry',\n        methods: [\n            'closeEntry',\n            'openEntry'\n        ],\n        properties: []\n    },\n    EntrySensor: {\n        name: 'EntrySensor',\n        methods: [],\n        properties: [\n            'entryOpen'\n        ]\n    },\n    DeviceProvider: {\n        name: 'DeviceProvider',\n        methods: [\n            'getDevice',\n            'releaseDevice'\n        ],\n        properties: []\n    },\n    DeviceDiscovery: {\n        name: 'DeviceDiscovery',\n        methods: [\n            'adoptDevice',\n            'discoverDevices'\n        ],\n        properties: []\n    },\n    DeviceCreator: {\n        name: 'DeviceCreator',\n        methods: [\n            'createDevice',\n            'getCreateDeviceSettings'\n        ],\n        properties: []\n    },\n    Battery: {\n        name: 'Battery',\n        methods: [],\n        properties: [\n            'batteryLevel'\n        ]\n    },\n    Charger: {\n        name: 'Charger',\n        methods: [],\n        properties: [\n            'chargeState'\n        ]\n    },\n    Reboot: {\n        name: 'Reboot',\n        methods: [\n            'reboot'\n        ],\n        properties: []\n    },\n    Refresh: {\n        name: 'Refresh',\n        methods: [\n            'getRefreshFrequency',\n            'refresh'\n        ],\n        properties: []\n    },\n    MediaPlayer: {\n        name: 'MediaPlayer',\n        methods: [\n            'getMediaStatus',\n            'load',\n            'seek',\n            'skipNext',\n            'skipPrevious'\n        ],\n        properties: []\n    },\n    Online: {\n        name: 'Online',\n        methods: [],\n        properties: [\n            'online'\n        ]\n    },\n    BufferConverter: {\n        name: 'BufferConverter',\n        methods: [\n            'convert'\n        ],\n        properties: [\n            'fromMimeType',\n            'toMimeType'\n        ]\n    },\n    MediaConverter: {\n        name: 'MediaConverter',\n        methods: [\n            'convertMedia'\n        ],\n        properties: [\n            'converters'\n        ]\n    },\n    Settings: {\n        name: 'Settings',\n        methods: [\n            'getSettings',\n            'putSetting'\n        ],\n        properties: []\n    },\n    BinarySensor: {\n        name: 'BinarySensor',\n        methods: [],\n        properties: [\n            'binaryState'\n        ]\n    },\n    TamperSensor: {\n        name: 'TamperSensor',\n        methods: [],\n        properties: [\n            'tampered'\n        ]\n    },\n    PowerSensor: {\n        name: 'PowerSensor',\n        methods: [],\n        properties: [\n            'powerDetected'\n        ]\n    },\n    AudioSensor: {\n        name: 'AudioSensor',\n        methods: [],\n        properties: [\n            'audioDetected'\n        ]\n    },\n    MotionSensor: {\n        name: 'MotionSensor',\n        methods: [],\n        properties: [\n            'motionDetected'\n        ]\n    },\n    AmbientLightSensor: {\n        name: 'AmbientLightSensor',\n        methods: [],\n        properties: [\n            'ambientLight'\n        ]\n    },\n    OccupancySensor: {\n        name: 'OccupancySensor',\n        methods: [],\n        properties: [\n            'occupied'\n        ]\n    },\n    FloodSensor: {\n        name: 'FloodSensor',\n        methods: [],\n        properties: [\n            'flooded'\n        ]\n    },\n    UltravioletSensor: {\n        name: 'UltravioletSensor',\n        methods: [],\n        properties: [\n            'ultraviolet'\n        ]\n    },\n    LuminanceSensor: {\n        name: 'LuminanceSensor',\n        methods: [],\n        properties: [\n            'luminance'\n        ]\n    },\n    PositionSensor: {\n        name: 'PositionSensor',\n        methods: [],\n        properties: [\n            'position'\n        ]\n    },\n    SecuritySystem: {\n        name: 'SecuritySystem',\n        methods: [\n            'armSecuritySystem',\n            'disarmSecuritySystem'\n        ],\n        properties: [\n            'securitySystemState'\n        ]\n    },\n    PM10Sensor: {\n        name: 'PM10Sensor',\n        methods: [],\n        properties: [\n            'pm10Density'\n        ]\n    },\n    PM25Sensor: {\n        name: 'PM25Sensor',\n        methods: [],\n        properties: [\n            'pm25Density'\n        ]\n    },\n    VOCSensor: {\n        name: 'VOCSensor',\n        methods: [],\n        properties: [\n            'vocDensity'\n        ]\n    },\n    NOXSensor: {\n        name: 'NOXSensor',\n        methods: [],\n        properties: [\n            'noxDensity'\n        ]\n    },\n    CO2Sensor: {\n        name: 'CO2Sensor',\n        methods: [],\n        properties: [\n            'co2ppm'\n        ]\n    },\n    AirQualitySensor: {\n        name: 'AirQualitySensor',\n        methods: [],\n        properties: [\n            'airQuality'\n        ]\n    },\n    AirPurifier: {\n        name: 'AirPurifier',\n        methods: [\n            'setAirPurifierState'\n        ],\n        properties: [\n            'airPurifierState'\n        ]\n    },\n    FilterMaintenance: {\n        name: 'FilterMaintenance',\n        methods: [],\n        properties: [\n            'filterChangeIndication',\n            'filterLifeLevel'\n        ]\n    },\n    Readme: {\n        name: 'Readme',\n        methods: [\n            'getReadmeMarkdown'\n        ],\n        properties: []\n    },\n    OauthClient: {\n        name: 'OauthClient',\n        methods: [\n            'getOauthUrl',\n            'onOauthCallback'\n        ],\n        properties: []\n    },\n    MixinProvider: {\n        name: 'MixinProvider',\n        methods: [\n            'canMixin',\n            'getMixin',\n            'releaseMixin'\n        ],\n        properties: []\n    },\n    HttpRequestHandler: {\n        name: 'HttpRequestHandler',\n        methods: [\n            'onRequest'\n        ],\n        properties: []\n    },\n    EngineIOHandler: {\n        name: 'EngineIOHandler',\n        methods: [\n            'onConnection'\n        ],\n        properties: []\n    },\n    PushHandler: {\n        name: 'PushHandler',\n        methods: [\n            'onPush'\n        ],\n        properties: []\n    },\n    Program: {\n        name: 'Program',\n        methods: [\n            'run'\n        ],\n        properties: []\n    },\n    Scriptable: {\n        name: 'Scriptable',\n        methods: [\n            'eval',\n            'loadScripts',\n            'saveScript'\n        ],\n        properties: []\n    },\n    ObjectTracker: {\n        name: 'ObjectTracker',\n        methods: [\n            'trackObjects'\n        ],\n        properties: []\n    },\n    ObjectDetector: {\n        name: 'ObjectDetector',\n        methods: [\n            'getDetectionInput',\n            'getObjectTypes'\n        ],\n        properties: []\n    },\n    ObjectDetection: {\n        name: 'ObjectDetection',\n        methods: [\n            'detectObjects',\n            'generateObjectDetections',\n            'getDetectionModel'\n        ],\n        properties: []\n    },\n    ObjectDetectionPreview: {\n        name: 'ObjectDetectionPreview',\n        methods: [],\n        properties: []\n    },\n    ObjectDetectionGenerator: {\n        name: 'ObjectDetectionGenerator',\n        methods: [],\n        properties: []\n    },\n    HumiditySetting: {\n        name: 'HumiditySetting',\n        methods: [\n            'setHumidity'\n        ],\n        properties: [\n            'humiditySetting'\n        ]\n    },\n    Fan: {\n        name: 'Fan',\n        methods: [\n            'setFan'\n        ],\n        properties: [\n            'fan'\n        ]\n    },\n    RTCSignalingChannel: {\n        name: 'RTCSignalingChannel',\n        methods: [\n            'startRTCSignalingSession'\n        ],\n        properties: []\n    },\n    RTCSignalingClient: {\n        name: 'RTCSignalingClient',\n        methods: [\n            'createRTCSignalingSession'\n        ],\n        properties: []\n    },\n    LauncherApplication: {\n        name: 'LauncherApplication',\n        methods: [],\n        properties: [\n            'applicationInfo'\n        ]\n    },\n    ScryptedUser: {\n        name: 'ScryptedUser',\n        methods: [\n            'getScryptedUserAccessControl'\n        ],\n        properties: []\n    },\n    VideoFrameGenerator: {\n        name: 'VideoFrameGenerator',\n        methods: [\n            'generateVideoFrames'\n        ],\n        properties: []\n    },\n    StreamService: {\n        name: 'StreamService',\n        methods: [\n            'connectStream'\n        ],\n        properties: []\n    },\n    TTY: {\n        name: 'TTY',\n        methods: [],\n        properties: []\n    },\n    TTYSettings: {\n        name: 'TTYSettings',\n        methods: [\n            'getTTYSettings'\n        ],\n        properties: []\n    },\n    ScryptedSystemDevice: {\n        name: 'ScryptedSystemDevice',\n        methods: [],\n        properties: [\n            'systemDevice'\n        ]\n    },\n    ScryptedDeviceCreator: {\n        name: 'ScryptedDeviceCreator',\n        methods: [],\n        properties: []\n    },\n    ScryptedSettings: {\n        name: 'ScryptedSettings',\n        methods: [],\n        properties: []\n    }\n};\n/**\n * @category Core Reference\n */\nvar ScryptedDeviceType;\n(function (ScryptedDeviceType) {\n    ScryptedDeviceType[\"Builtin\"] = \"Builtin\";\n    ScryptedDeviceType[\"Camera\"] = \"Camera\";\n    ScryptedDeviceType[\"Fan\"] = \"Fan\";\n    ScryptedDeviceType[\"Light\"] = \"Light\";\n    ScryptedDeviceType[\"Switch\"] = \"Switch\";\n    ScryptedDeviceType[\"Outlet\"] = \"Outlet\";\n    ScryptedDeviceType[\"Sensor\"] = \"Sensor\";\n    ScryptedDeviceType[\"Scene\"] = \"Scene\";\n    ScryptedDeviceType[\"Program\"] = \"Program\";\n    ScryptedDeviceType[\"Automation\"] = \"Automation\";\n    ScryptedDeviceType[\"Vacuum\"] = \"Vacuum\";\n    ScryptedDeviceType[\"Notifier\"] = \"Notifier\";\n    ScryptedDeviceType[\"Thermostat\"] = \"Thermostat\";\n    ScryptedDeviceType[\"Lock\"] = \"Lock\";\n    ScryptedDeviceType[\"PasswordControl\"] = \"PasswordControl\";\n    /**\n     * Displays have audio and video output.\n     */\n    ScryptedDeviceType[\"Display\"] = \"Display\";\n    /**\n     * Smart Displays have two way audio and video.\n     */\n    ScryptedDeviceType[\"SmartDisplay\"] = \"SmartDisplay\";\n    ScryptedDeviceType[\"Speaker\"] = \"Speaker\";\n    /**\n     * Smart Speakers have two way audio.\n     */\n    ScryptedDeviceType[\"SmartSpeaker\"] = \"SmartSpeaker\";\n    ScryptedDeviceType[\"Event\"] = \"Event\";\n    ScryptedDeviceType[\"Entry\"] = \"Entry\";\n    ScryptedDeviceType[\"Garage\"] = \"Garage\";\n    ScryptedDeviceType[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedDeviceType[\"DataSource\"] = \"DataSource\";\n    ScryptedDeviceType[\"API\"] = \"API\";\n    ScryptedDeviceType[\"Doorbell\"] = \"Doorbell\";\n    ScryptedDeviceType[\"Irrigation\"] = \"Irrigation\";\n    ScryptedDeviceType[\"Valve\"] = \"Valve\";\n    ScryptedDeviceType[\"Person\"] = \"Person\";\n    ScryptedDeviceType[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedDeviceType[\"WindowCovering\"] = \"WindowCovering\";\n    ScryptedDeviceType[\"Siren\"] = \"Siren\";\n    ScryptedDeviceType[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedDeviceType[\"Unknown\"] = \"Unknown\";\n})(ScryptedDeviceType || (exports.ScryptedDeviceType = ScryptedDeviceType = {}));\nvar HumidityMode;\n(function (HumidityMode) {\n    HumidityMode[\"Humidify\"] = \"Humidify\";\n    HumidityMode[\"Dehumidify\"] = \"Dehumidify\";\n    HumidityMode[\"Auto\"] = \"Auto\";\n    HumidityMode[\"Off\"] = \"Off\";\n})(HumidityMode || (exports.HumidityMode = HumidityMode = {}));\nvar FanMode;\n(function (FanMode) {\n    FanMode[\"Auto\"] = \"Auto\";\n    FanMode[\"Manual\"] = \"Manual\";\n})(FanMode || (exports.FanMode = FanMode = {}));\nvar TemperatureUnit;\n(function (TemperatureUnit) {\n    TemperatureUnit[\"C\"] = \"C\";\n    TemperatureUnit[\"F\"] = \"F\";\n})(TemperatureUnit || (exports.TemperatureUnit = TemperatureUnit = {}));\nvar ThermostatMode;\n(function (ThermostatMode) {\n    ThermostatMode[\"Off\"] = \"Off\";\n    ThermostatMode[\"Cool\"] = \"Cool\";\n    ThermostatMode[\"Heat\"] = \"Heat\";\n    ThermostatMode[\"HeatCool\"] = \"HeatCool\";\n    ThermostatMode[\"Auto\"] = \"Auto\";\n    ThermostatMode[\"FanOnly\"] = \"FanOnly\";\n    ThermostatMode[\"Purifier\"] = \"Purifier\";\n    ThermostatMode[\"Eco\"] = \"Eco\";\n    ThermostatMode[\"Dry\"] = \"Dry\";\n    ThermostatMode[\"On\"] = \"On\";\n})(ThermostatMode || (exports.ThermostatMode = ThermostatMode = {}));\nvar PanTiltZoomMovement;\n(function (PanTiltZoomMovement) {\n    PanTiltZoomMovement[\"Absolute\"] = \"Absolute\";\n    PanTiltZoomMovement[\"Relative\"] = \"Relative\";\n    PanTiltZoomMovement[\"Continuous\"] = \"Continuous\";\n    PanTiltZoomMovement[\"Preset\"] = \"Preset\";\n    PanTiltZoomMovement[\"Home\"] = \"Home\";\n})(PanTiltZoomMovement || (exports.PanTiltZoomMovement = PanTiltZoomMovement = {}));\nvar LockState;\n(function (LockState) {\n    LockState[\"Locked\"] = \"Locked\";\n    LockState[\"Unlocked\"] = \"Unlocked\";\n    LockState[\"Jammed\"] = \"Jammed\";\n})(LockState || (exports.LockState = LockState = {}));\nvar ChargeState;\n(function (ChargeState) {\n    ChargeState[\"Trickle\"] = \"trickle\";\n    ChargeState[\"Charging\"] = \"charging\";\n    ChargeState[\"NotCharging\"] = \"not-charging\";\n})(ChargeState || (exports.ChargeState = ChargeState = {}));\nvar AirPurifierStatus;\n(function (AirPurifierStatus) {\n    AirPurifierStatus[\"Inactive\"] = \"Inactive\";\n    AirPurifierStatus[\"Idle\"] = \"Idle\";\n    AirPurifierStatus[\"Active\"] = \"Active\";\n    AirPurifierStatus[\"ActiveNightMode\"] = \"ActiveNightMode\";\n})(AirPurifierStatus || (exports.AirPurifierStatus = AirPurifierStatus = {}));\nvar AirPurifierMode;\n(function (AirPurifierMode) {\n    AirPurifierMode[\"Manual\"] = \"Manual\";\n    AirPurifierMode[\"Automatic\"] = \"Automatic\";\n})(AirPurifierMode || (exports.AirPurifierMode = AirPurifierMode = {}));\nvar AirQuality;\n(function (AirQuality) {\n    AirQuality[\"Unknown\"] = \"Unknown\";\n    AirQuality[\"Excellent\"] = \"Excellent\";\n    AirQuality[\"Good\"] = \"Good\";\n    AirQuality[\"Fair\"] = \"Fair\";\n    AirQuality[\"Inferior\"] = \"Inferior\";\n    AirQuality[\"Poor\"] = \"Poor\";\n})(AirQuality || (exports.AirQuality = AirQuality = {}));\nvar SecuritySystemMode;\n(function (SecuritySystemMode) {\n    SecuritySystemMode[\"Disarmed\"] = \"Disarmed\";\n    SecuritySystemMode[\"HomeArmed\"] = \"HomeArmed\";\n    SecuritySystemMode[\"AwayArmed\"] = \"AwayArmed\";\n    SecuritySystemMode[\"NightArmed\"] = \"NightArmed\";\n})(SecuritySystemMode || (exports.SecuritySystemMode = SecuritySystemMode = {}));\nvar SecuritySystemObstruction;\n(function (SecuritySystemObstruction) {\n    SecuritySystemObstruction[\"Sensor\"] = \"Sensor\";\n    SecuritySystemObstruction[\"Occupied\"] = \"Occupied\";\n    SecuritySystemObstruction[\"Time\"] = \"Time\";\n    SecuritySystemObstruction[\"Error\"] = \"Error\";\n})(SecuritySystemObstruction || (exports.SecuritySystemObstruction = SecuritySystemObstruction = {}));\nvar MediaPlayerState;\n(function (MediaPlayerState) {\n    MediaPlayerState[\"Idle\"] = \"Idle\";\n    MediaPlayerState[\"Playing\"] = \"Playing\";\n    MediaPlayerState[\"Paused\"] = \"Paused\";\n    MediaPlayerState[\"Buffering\"] = \"Buffering\";\n})(MediaPlayerState || (exports.MediaPlayerState = MediaPlayerState = {}));\nvar ScryptedInterface;\n(function (ScryptedInterface) {\n    ScryptedInterface[\"ScryptedDevice\"] = \"ScryptedDevice\";\n    ScryptedInterface[\"ScryptedPlugin\"] = \"ScryptedPlugin\";\n    ScryptedInterface[\"ScryptedPluginRuntime\"] = \"ScryptedPluginRuntime\";\n    ScryptedInterface[\"OnOff\"] = \"OnOff\";\n    ScryptedInterface[\"Brightness\"] = \"Brightness\";\n    ScryptedInterface[\"ColorSettingTemperature\"] = \"ColorSettingTemperature\";\n    ScryptedInterface[\"ColorSettingRgb\"] = \"ColorSettingRgb\";\n    ScryptedInterface[\"ColorSettingHsv\"] = \"ColorSettingHsv\";\n    ScryptedInterface[\"Notifier\"] = \"Notifier\";\n    ScryptedInterface[\"StartStop\"] = \"StartStop\";\n    ScryptedInterface[\"Pause\"] = \"Pause\";\n    ScryptedInterface[\"Dock\"] = \"Dock\";\n    ScryptedInterface[\"TemperatureSetting\"] = \"TemperatureSetting\";\n    ScryptedInterface[\"Thermometer\"] = \"Thermometer\";\n    ScryptedInterface[\"HumiditySensor\"] = \"HumiditySensor\";\n    ScryptedInterface[\"Camera\"] = \"Camera\";\n    ScryptedInterface[\"Microphone\"] = \"Microphone\";\n    ScryptedInterface[\"AudioVolumeControl\"] = \"AudioVolumeControl\";\n    ScryptedInterface[\"Display\"] = \"Display\";\n    ScryptedInterface[\"VideoCamera\"] = \"VideoCamera\";\n    ScryptedInterface[\"VideoCameraMask\"] = \"VideoCameraMask\";\n    ScryptedInterface[\"VideoRecorder\"] = \"VideoRecorder\";\n    ScryptedInterface[\"VideoRecorderManagement\"] = \"VideoRecorderManagement\";\n    ScryptedInterface[\"PanTiltZoom\"] = \"PanTiltZoom\";\n    ScryptedInterface[\"EventRecorder\"] = \"EventRecorder\";\n    ScryptedInterface[\"VideoClips\"] = \"VideoClips\";\n    ScryptedInterface[\"VideoCameraConfiguration\"] = \"VideoCameraConfiguration\";\n    ScryptedInterface[\"Intercom\"] = \"Intercom\";\n    ScryptedInterface[\"Lock\"] = \"Lock\";\n    ScryptedInterface[\"PasswordStore\"] = \"PasswordStore\";\n    ScryptedInterface[\"Scene\"] = \"Scene\";\n    ScryptedInterface[\"Entry\"] = \"Entry\";\n    ScryptedInterface[\"EntrySensor\"] = \"EntrySensor\";\n    ScryptedInterface[\"DeviceProvider\"] = \"DeviceProvider\";\n    ScryptedInterface[\"DeviceDiscovery\"] = \"DeviceDiscovery\";\n    ScryptedInterface[\"DeviceCreator\"] = \"DeviceCreator\";\n    ScryptedInterface[\"Battery\"] = \"Battery\";\n    ScryptedInterface[\"Charger\"] = \"Charger\";\n    ScryptedInterface[\"Reboot\"] = \"Reboot\";\n    ScryptedInterface[\"Refresh\"] = \"Refresh\";\n    ScryptedInterface[\"MediaPlayer\"] = \"MediaPlayer\";\n    ScryptedInterface[\"Online\"] = \"Online\";\n    ScryptedInterface[\"BufferConverter\"] = \"BufferConverter\";\n    ScryptedInterface[\"MediaConverter\"] = \"MediaConverter\";\n    ScryptedInterface[\"Settings\"] = \"Settings\";\n    ScryptedInterface[\"BinarySensor\"] = \"BinarySensor\";\n    ScryptedInterface[\"TamperSensor\"] = \"TamperSensor\";\n    ScryptedInterface[\"PowerSensor\"] = \"PowerSensor\";\n    ScryptedInterface[\"AudioSensor\"] = \"AudioSensor\";\n    ScryptedInterface[\"MotionSensor\"] = \"MotionSensor\";\n    ScryptedInterface[\"AmbientLightSensor\"] = \"AmbientLightSensor\";\n    ScryptedInterface[\"OccupancySensor\"] = \"OccupancySensor\";\n    ScryptedInterface[\"FloodSensor\"] = \"FloodSensor\";\n    ScryptedInterface[\"UltravioletSensor\"] = \"UltravioletSensor\";\n    ScryptedInterface[\"LuminanceSensor\"] = \"LuminanceSensor\";\n    ScryptedInterface[\"PositionSensor\"] = \"PositionSensor\";\n    ScryptedInterface[\"SecuritySystem\"] = \"SecuritySystem\";\n    ScryptedInterface[\"PM10Sensor\"] = \"PM10Sensor\";\n    ScryptedInterface[\"PM25Sensor\"] = \"PM25Sensor\";\n    ScryptedInterface[\"VOCSensor\"] = \"VOCSensor\";\n    ScryptedInterface[\"NOXSensor\"] = \"NOXSensor\";\n    ScryptedInterface[\"CO2Sensor\"] = \"CO2Sensor\";\n    ScryptedInterface[\"AirQualitySensor\"] = \"AirQualitySensor\";\n    ScryptedInterface[\"AirPurifier\"] = \"AirPurifier\";\n    ScryptedInterface[\"FilterMaintenance\"] = \"FilterMaintenance\";\n    ScryptedInterface[\"Readme\"] = \"Readme\";\n    ScryptedInterface[\"OauthClient\"] = \"OauthClient\";\n    ScryptedInterface[\"MixinProvider\"] = \"MixinProvider\";\n    ScryptedInterface[\"HttpRequestHandler\"] = \"HttpRequestHandler\";\n    ScryptedInterface[\"EngineIOHandler\"] = \"EngineIOHandler\";\n    ScryptedInterface[\"PushHandler\"] = \"PushHandler\";\n    ScryptedInterface[\"Program\"] = \"Program\";\n    ScryptedInterface[\"Scriptable\"] = \"Scriptable\";\n    ScryptedInterface[\"ObjectTracker\"] = \"ObjectTracker\";\n    ScryptedInterface[\"ObjectDetector\"] = \"ObjectDetector\";\n    ScryptedInterface[\"ObjectDetection\"] = \"ObjectDetection\";\n    ScryptedInterface[\"ObjectDetectionPreview\"] = \"ObjectDetectionPreview\";\n    ScryptedInterface[\"ObjectDetectionGenerator\"] = \"ObjectDetectionGenerator\";\n    ScryptedInterface[\"HumiditySetting\"] = \"HumiditySetting\";\n    ScryptedInterface[\"Fan\"] = \"Fan\";\n    ScryptedInterface[\"RTCSignalingChannel\"] = \"RTCSignalingChannel\";\n    ScryptedInterface[\"RTCSignalingClient\"] = \"RTCSignalingClient\";\n    ScryptedInterface[\"LauncherApplication\"] = \"LauncherApplication\";\n    ScryptedInterface[\"ScryptedUser\"] = \"ScryptedUser\";\n    ScryptedInterface[\"VideoFrameGenerator\"] = \"VideoFrameGenerator\";\n    ScryptedInterface[\"StreamService\"] = \"StreamService\";\n    ScryptedInterface[\"TTY\"] = \"TTY\";\n    ScryptedInterface[\"TTYSettings\"] = \"TTYSettings\";\n    ScryptedInterface[\"ScryptedSystemDevice\"] = \"ScryptedSystemDevice\";\n    ScryptedInterface[\"ScryptedDeviceCreator\"] = \"ScryptedDeviceCreator\";\n    ScryptedInterface[\"ScryptedSettings\"] = \"ScryptedSettings\";\n})(ScryptedInterface || (exports.ScryptedInterface = ScryptedInterface = {}));\nvar ScryptedMimeTypes;\n(function (ScryptedMimeTypes) {\n    ScryptedMimeTypes[\"Url\"] = \"text/x-uri\";\n    ScryptedMimeTypes[\"InsecureLocalUrl\"] = \"text/x-insecure-local-uri\";\n    ScryptedMimeTypes[\"LocalUrl\"] = \"text/x-local-uri\";\n    ScryptedMimeTypes[\"ServerId\"] = \"text/x-server-id\";\n    ScryptedMimeTypes[\"PushEndpoint\"] = \"text/x-push-endpoint\";\n    ScryptedMimeTypes[\"SchemePrefix\"] = \"x-scrypted/x-scrypted-scheme-\";\n    ScryptedMimeTypes[\"MediaStreamUrl\"] = \"text/x-media-url\";\n    ScryptedMimeTypes[\"MediaObject\"] = \"x-scrypted/x-scrypted-media-object\";\n    ScryptedMimeTypes[\"RequestMediaObject\"] = \"x-scrypted/x-scrypted-request-media-object\";\n    ScryptedMimeTypes[\"RequestMediaStream\"] = \"x-scrypted/x-scrypted-request-stream\";\n    ScryptedMimeTypes[\"MediaStreamFeedback\"] = \"x-scrypted/x-media-stream-feedback\";\n    ScryptedMimeTypes[\"FFmpegInput\"] = \"x-scrypted/x-ffmpeg-input\";\n    ScryptedMimeTypes[\"FFmpegTranscodeStream\"] = \"x-scrypted/x-ffmpeg-transcode-stream\";\n    ScryptedMimeTypes[\"RTCSignalingChannel\"] = \"x-scrypted/x-scrypted-rtc-signaling-channel\";\n    ScryptedMimeTypes[\"RTCSignalingSession\"] = \"x-scrypted/x-scrypted-rtc-signaling-session\";\n    ScryptedMimeTypes[\"RTCConnectionManagement\"] = \"x-scrypted/x-scrypted-rtc-connection-management\";\n    ScryptedMimeTypes[\"Image\"] = \"x-scrypted/x-scrypted-image\";\n})(ScryptedMimeTypes || (exports.ScryptedMimeTypes = ScryptedMimeTypes = {}));\n//# sourceMappingURL=index.js.map","export { safeKillFFmpeg, ffmpegLogInitialOutput, safePrintFFmpegArguments } from '../../server/src/media-helpers';\n","import { Deferred } from '@scrypted/common/src/deferred';\nimport { safeKillFFmpeg } from '@scrypted/common/src/media-helpers';\nimport sdk, { Camera, FFmpegInput, Image, MediaObject, MediaStreamDestination, MotionSensor, Notifier, ObjectDetection, ScryptedDevice, ScryptedDeviceBase, ScryptedDeviceType, ScryptedInterface, ScryptedMimeTypes, Setting, Settings, VideoCamera } from '@scrypted/sdk';\nimport { StorageSettings } from '@scrypted/sdk/storage-settings';\nimport child_process from 'child_process';\nimport { once } from 'events';\nimport fs from 'fs';\nimport net from 'net';\nimport os from 'os';\nimport sharp from 'sharp';\nimport { httpFetch } from '../../../server/src/fetch/http-fetch';\nclass DiagnosticsPlugin extends ScryptedDeviceBase implements Settings {\n    storageSettings = new StorageSettings(this, {\n        testDevice: {\n            group: 'Device',\n            title: 'Validation Device',\n            description: \"Select a device to validate.\",\n            type: 'device',\n            deviceFilter: `type === '${ScryptedDeviceType.Camera}' || type === '${ScryptedDeviceType.Doorbell}'  || type === '${ScryptedDeviceType.Notifier}'`,\n            immediate: true,\n        },\n        validateDevice: {\n            console: true,\n            group: 'Device',\n            title: 'Validate Device',\n            description: 'Validate the device configuration.',\n            type: 'button',\n            onPut: async () => {\n                this.validateDevice();\n            },\n        },\n        validateSystem: {\n            console: true,\n            group: 'System',\n            title: 'Validate System',\n            description: 'Validate the system configuration.',\n            type: 'button',\n            onPut: () => this.validateSystem(),\n        },\n    });\n\n    loggedMotion = new Map<string, number>();\n    loggedButton = new Map<string, number>();\n\n    constructor(nativeId?: string) {\n        super(nativeId);\n        this.on = this.on || false;\n\n        sdk.systemManager.listen((eventSource, eventDetails, eventData) => {\n            if (!eventData || !eventSource?.id)\n                return;\n\n            if (eventDetails.eventInterface === ScryptedInterface.MotionSensor) {\n                this.loggedMotion.set(eventSource.id, Date.now());\n                return;\n            }\n\n            if (eventDetails.eventInterface === ScryptedInterface.BinarySensor) {\n                this.loggedButton.set(eventSource.id, Date.now());\n                return;\n            }\n        });\n    }\n\n    getSettings(): Promise<Setting[]> {\n        return this.storageSettings.getSettings();\n    }\n\n    async putSetting(key: string, value: any) {\n        await this.storageSettings.putSetting(key, value);\n    }\n\n    warnStep(console: Console, result: string) {\n        console.log(''.padEnd(24), `\\x1b[33m${result}\\x1b[0m`);\n    }\n\n    async validate(console: Console, stepName: string, step: Promise<any> | (() => Promise<any>)) {\n        try {\n            if (step instanceof Function)\n                step = step();\n            console.log(stepName.padEnd(24), '\\x1b[34mRunning\\x1b[0m');\n            const result = await step;\n            console.log(''.padEnd(24), `\\x1b[32m${result || 'OK'}\\x1b[0m`);\n        }\n        catch (e) {\n            console.error(stepName.padEnd(24), '\\x1b[31m Failed\\x1b[0m'.padEnd(24), (e as Error).message);\n        }\n    }\n\n    async validateDevice() {\n        const device = this.storageSettings.values.testDevice as ScryptedDevice & any;\n        const console = sdk.deviceManager.getMixinConsole(device.id);\n\n        console.log(''.padEnd(44, '='));\n        console.log(`Device Validation: ${device?.name}`);\n        console.log(''.padEnd(44, '='));\n\n        await this.validate(console, 'Device Selected', async () => {\n            if (!device)\n                throw new Error('Select a device in the Settings UI.');\n        });\n\n        if (!device)\n            return;\n\n        if (device.type === ScryptedDeviceType.Camera || device.type === ScryptedDeviceType.Doorbell) {\n            await this.validateCamera(device);\n        }\n        else if (device.type === ScryptedDeviceType.Notifier) {\n            await this.validateNotifier(device);\n        }\n\n        console.log(''.padEnd(44, '='));\n        console.log(`Device Validation Complete: ${device?.name}`);\n        console.log(''.padEnd(44, '='));\n    }\n\n    async validateNotifier(device: ScryptedDevice & Notifier) {\n        const console = sdk.deviceManager.getMixinConsole(device.id);\n\n        await this.validate(console, 'Test Notification', async () => {\n            const logo = await httpFetch({\n                url: 'https://home.scrypted.app/_punch/web_hi_res_512.png',\n                responseType: 'buffer',\n            });\n\n            const mo = await sdk.mediaManager.createMediaObject(logo.body, 'image/png');\n            await device.sendNotification('Scrypted Diagnostics', {\n                body: 'Body',\n                subtitle: 'Subtitle',\n                android: {\n                    channel: 'diagnostics',\n                }\n            }, mo);\n\n            this.warnStep(console, 'Check the device for the notification.');\n        });\n    }\n\n    async validateCamera(device: ScryptedDevice & Camera & VideoCamera & MotionSensor) {\n        const console = sdk.deviceManager.getMixinConsole(device.id);\n\n        await this.validate(console, 'Device Capabilities', async () => {\n            if (!device.interfaces.includes(ScryptedInterface.MotionSensor))\n                throw new Error('Motion Sensor not found.');\n\n            if (device.type === ScryptedDeviceType.Doorbell && !device.interfaces.includes(ScryptedInterface.BinarySensor))\n                throw new Error('Doorbell button not found.');\n        });\n\n        await this.validate(console, 'Motion Detection', async () => {\n            if (!device.interfaces.includes(ScryptedInterface.MotionSensor))\n                throw new Error('Motion Sensor not found. Enabling a software motion sensor extension is recommended.');\n\n            if (device.providedInterfaces.includes(ScryptedInterface.MotionSensor)) {\n                if (device.interfaces.find(i => i.startsWith('ObjectDetection:true')))\n                    this.warnStep(console, 'Camera hardware provides motion events, but a software motion detector is enabled. Consider disabling the software motion detector.');\n            }\n        });\n\n        if (device.interfaces.includes(ScryptedInterface.MotionSensor)) {\n            await this.validate(console, 'Recent Motion', async () => {\n\n                const lastMotion = this.loggedMotion.get(device.id);\n                if (!lastMotion)\n                    throw new Error('No recent motion detected. Go wave your hand in front of the camera.');\n                if (Date.now() - lastMotion > 8 * 60 * 60 * 1000)\n                    throw new Error('Last motion was over 8 hours ago.');\n            });\n        }\n\n\n        if (device.type === ScryptedDeviceType.Doorbell) {\n            await this.validate(console, 'Recent Button Press', async () => {\n                const lastButton = this.loggedButton.get(device.id);\n                if (!lastButton)\n                    throw new Error('No recent button press detected. Go press the doorbell button.');\n                if (Date.now() - lastButton > 8 * 60 * 60 * 1000)\n                    throw new Error('Last button press was over 8 hours ago.');\n            });\n        }\n\n        const validateMedia = async (stepName: string, mo: Promise<MediaObject>, snapshot = false, and?: () => Promise<void>) => {\n            await this.validate(console, stepName, async () => {\n                if (snapshot && !device.interfaces.includes(ScryptedInterface.Camera))\n                    throw new Error('Snapshot not supported. Enable the Snapshot extension.');\n                const jpeg = await sdk.mediaManager.convertMediaObjectToBuffer(await mo, 'image/jpeg');\n                const metadata = await sharp(jpeg).metadata();\n                if (!metadata.width || !metadata.height || metadata.width < 100 || metadata.height < 100)\n                    throw new Error('Malformed image.');\n                if (!and && snapshot && device.pluginId === '@scrypted/unifi-protect' && metadata.width < 1280)\n                    this.warnStep(console, 'Unifi Protect provides low quality snapshots. Consider using Snapshot from Prebuffer for full resolution screenshots.');\n                await and?.();\n            });\n        };\n\n        await validateMedia('Snapshot', device.takePicture({\n            reason: 'event',\n        }), true);\n\n        await this.validate(console, 'Streams', async () => {\n            const vsos = await device.getVideoStreamOptions();\n\n            if (!vsos?.length)\n                throw new Error('Stream configuration invalid.');\n\n            if (vsos.length < 3)\n                this.warnStep(console, `Camera has ${vsos.length} substream. Three streams are recommended.`);\n\n            const cloudStreams = vsos.filter(vso => vso.source === 'cloud');\n            if (cloudStreams.length)\n                this.warnStep(console, `Cloud camera. Upgrade recommended.`);\n\n            const usedStreams = vsos.filter(vso => vso.destinations?.length);\n            if (usedStreams.length < Math.min(3, vsos.length))\n                this.warnStep(console, `Unused streams detected.`);\n        });\n\n        const getVideoStream = async (destination: MediaStreamDestination) => {\n            if (!device.interfaces.includes(ScryptedInterface.VideoCamera))\n                throw new Error('Streaming not supported.');\n            return await device.getVideoStream({\n                destination,\n                prebuffer: 0,\n            });\n        };\n\n        const validated = new Set<string | undefined>();\n        const validateMediaStream = async (stepName: string, destination: MediaStreamDestination) => {\n            const vsos = await device.getVideoStreamOptions();\n            const streamId = vsos.find(vso => vso.destinations?.includes(destination))?.id;\n\n            if (validated.has(streamId)) {\n                await this.validate(console, stepName, async () => \"Skipped (Duplicate)\");\n                return;\n            }\n\n            validated.add(streamId);\n\n            const ffmpegInput = await sdk.mediaManager.convertMediaObjectToJSON<FFmpegInput>(await getVideoStream(destination), ScryptedMimeTypes.FFmpegInput);\n            if (ffmpegInput.mediaStreamOptions?.video?.codec !== 'h264')\n                this.warnStep(console, `Stream ${stepName} is using codec ${ffmpegInput.mediaStreamOptions?.video?.codec}. h264 is recommended.`);\n\n            await validateMedia(stepName, getVideoStream(destination));\n            const start = Date.now();\n            await validateMedia(stepName + ' (IDR)', getVideoStream(destination), false, async () => {\n                const end = Date.now();\n                if (end - start > 5000)\n                    throw new Error(`High IDR Interval. This may cause issues with HomeKit Secure Video. Adjust codec configuration if possible.`);\n            });\n        };\n\n        await validateMediaStream('Local', 'local');\n\n        await validateMediaStream('Local Recorder', 'local-recorder');\n\n        await validateMediaStream('Remote Recorder', 'remote-recorder');\n\n        await validateMediaStream('Remote', 'remote');\n\n        await validateMediaStream('Low Resolution', 'low-resolution');\n\n        await this.validate(console, 'Audio Codecs', async () => {\n            const vsos = await device.getVideoStreamOptions();\n\n            let codec: string | undefined;\n            const codecs = new Set<string>();\n            for (const vso of vsos) {\n                if (vso.audio?.codec) {\n                    codec = vso.audio.codec;\n                    codecs.add(vso.audio.codec);\n                }\n            }\n\n            if (codecs.size > 1) {\n                this.warnStep(console, `Mismatched audio codecs detected.`);\n                return;\n            }\n\n            if (!codec)\n                return;\n\n            if (codec !== 'pcm_mulaw' && codec !== 'aac' && codec !== 'opus') {\n                this.warnStep(console, `Audio codec is ${codec}. pcm_mulaw, aac, or opus is recommended.`);\n                return;\n            }\n        });\n    }\n\n    async validateSystem() {\n        this.console.log(''.padEnd(44, '='));\n        this.console.log('System Validation');\n        this.console.log(''.padEnd(44, '='));\n\n        const nvrPlugin = sdk.systemManager.getDeviceById('@scrypted/nvr');\n        const cloudPlugin = sdk.systemManager.getDeviceById('@scrypted/cloud');\n        const hasCUDA = process.env.NVIDIA_VISIBLE_DEVICES && process.env.NVIDIA_DRIVER_CAPABILITIES;\n        const onnxPlugin = sdk.systemManager.getDeviceById<Settings & ObjectDetection>('@scrypted/onnx');\n        const openvinoPlugin = sdk.systemManager.getDeviceById<Settings & ObjectDetection>('@scrypted/openvino');\n\n        await this.validate(this.console, 'Scrypted Installation', async () => {\n            const e = process.env.SCRYPTED_INSTALL_ENVIRONMENT;\n            if (process.platform !== 'linux') {\n                if (e !== 'electron')\n                    this.warnStep(this.console, 'Upgrading to the Scrypted Desktop application is recommened for Windows and macOS.');\n                return;\n            }\n\n            if (e !== 'docker' && e !== 'lxc' && e !== 'ha' && e !== 'lxc-docker')\n                throw new Error('Unrecognized Linux installation. Installation via Docker image or the official Proxmox LXC script (not tteck) is recommended: https://docs.scrypted.app/installation');\n        });\n\n        await this.validate(this.console, 'IPv4 (jsonip.com)', httpFetch({\n            url: 'https://jsonip.com',\n            family: 4,\n            responseType: 'json',\n            timeout: 5000,\n        }).then(r => r.body.ip));\n\n        await this.validate(this.console, 'IPv6 (jsonip.com)', httpFetch({\n            url: 'https://jsonip.com',\n            family: 6,\n            responseType: 'json',\n            timeout: 5000,\n        }).then(r => r.body.ip));\n\n        await this.validate(this.console, 'IPv4 (wtfismyip.com)', httpFetch({\n            url: 'https://wtfismyip.com/text',\n            family: 4,\n            responseType: 'text',\n            timeout: 5000,\n        }).then(r => r.body.trim()));\n\n        await this.validate(this.console, 'IPv6 (wtfismyip.com)', httpFetch({\n            url: 'https://wtfismyip.com/text',\n            family: 6,\n            responseType: 'text',\n            timeout: 5000,\n        }).then(r => r.body.trim()));\n\n        await this.validate(this.console, 'Scrypted Server Address', async () => {\n            const addresses = await sdk.endpointManager.getLocalAddresses();\n            const hasIPv4 = addresses?.find(address => net.isIPv4(address));\n            const hasIPv6 = addresses?.find(address => net.isIPv6(address));\n            if (addresses?.length)\n                this.warnStep(this.console, addresses.join(', '));\n            if (!hasIPv4)\n                throw new Error('Scrypted Settings IPv4 address not set.');\n            if (!hasIPv6)\n                throw new Error('Scrypted Settings IPv6 address not set.');\n        });\n\n        await this.validate(this.console, 'CPU Count', async () => {\n            if (os.cpus().length < 2)\n                throw new Error('CPU Count is too low. 4 CPUs are recommended.');\n            return os.cpus().length;\n        });\n\n        await this.validate(this.console, 'Memory', async () => {\n            if (!nvrPlugin) {\n                if (os.totalmem() < 8 * 1024 * 1024 * 1024)\n                    throw new Error('Memory is too low. 8GB is recommended.');\n                return;\n            }\n\n            if (os.totalmem() < 14 * 1024 * 1024 * 1024)\n                throw new Error('Memory is too low. 16GB is recommended for NVR.');\n            return Math.floor(os.totalmem() / 1024 / 1024 / 1024) + \" GB\";\n        });\n\n        if (process.platform === 'linux' && nvrPlugin) {\n            // ensure /dev/dri/renderD128 or /dev/dri/renderD129 is available\n            await this.validate(this.console, 'GPU Passthrough', async () => {\n                if (!fs.existsSync('/dev/dri/renderD128') && !fs.existsSync('/dev/dri/renderD129'))\n                    throw new Error('GPU device unvailable or not passed through to container. (/dev/dri/renderD128, /dev/dri/renderD129)');\n                // also check /dev/kfd for AMD CPU\n                const amdCPU = os.cpus().find(c => c.model.includes('AMD'));\n                if (amdCPU && !fs.existsSync('/dev/kfd'))\n                    throw new Error('GPU device unvailable or not passed through to container. (/dev/kfd)');\n            });\n        }\n\n        await this.validate(this.console, 'Cloud Plugin', async () => {\n            if (!cloudPlugin) {\n                this.warnStep(this.console, 'Cloud plugin not installed. Consider installing for remote access.');\n                return;\n            }\n\n            const logo = await httpFetch({\n                url: 'https://home.scrypted.app/_punch/web_hi_res_512.png',\n                responseType: 'buffer',\n            });\n\n            const mo = await sdk.mediaManager.createMediaObject(logo.body, 'image/png');\n            const url = await sdk.mediaManager.convertMediaObjectToUrl(mo, 'image/png');\n\n            const logoCheck = await httpFetch({\n                url,\n                responseType: 'buffer',\n            });\n\n            if (Buffer.compare(logo.body, logoCheck.body))\n                throw new Error('Invalid response received.');\n\n            const shortUrl: any = await sdk.mediaManager.convertMediaObject(mo, ScryptedMimeTypes.Url + \";short-lived=true\");\n            const shortLogoCheck = await httpFetch({\n                url: shortUrl.toString(),\n                responseType: 'buffer',\n            });\n\n            if (Buffer.compare(logo.body, shortLogoCheck.body))\n                throw new Error('Invalid response received from short lived URL.');\n        });\n\n        if ((hasCUDA || process.platform === 'win32') && onnxPlugin) {\n            await this.validate(this.console, 'ONNX Plugin', async () => {\n                const settings = await onnxPlugin.getSettings();\n                const executionDevice = settings.find(s => s.key === 'execution_device');\n                if (executionDevice?.value?.toString().includes('CPU'))\n                    this.warnStep(this.console, 'GPU device unvailable or not passed through to container.');\n\n                const zidane = await sdk.mediaManager.createMediaObjectFromUrl('https://docs.scrypted.app/img/scrypted-nvr/troubleshooting/zidane.jpg');\n                const detected = await onnxPlugin.detectObjects(zidane);\n                const personFound = detected.detections!.find(d => d.className === 'person' && d.score > .9);\n                if (!personFound)\n                    throw new Error('Person not detected in test image.');\n            });\n        }\n\n        if (!hasCUDA && openvinoPlugin && (process.platform !== 'win32' || !onnxPlugin)) {\n            await this.validate(this.console, 'OpenVINO Plugin', async () => {\n                const settings = await openvinoPlugin.getSettings();\n                const availbleDevices = settings.find(s => s.key === 'available_devices');\n                if (!availbleDevices?.value?.toString().includes('GPU'))\n                    this.warnStep(this.console, 'GPU device unvailable or not passed through to container.');\n\n                const zidane = await sdk.mediaManager.createMediaObjectFromUrl('https://docs.scrypted.app/img/scrypted-nvr/troubleshooting/zidane.jpg');\n                const detected = await openvinoPlugin.detectObjects(zidane);\n                const personFound = detected.detections!.find(d => d.className === 'person' && d.score > .9);\n                if (!personFound)\n                    throw new Error('Person not detected in test image.');\n            });\n        }\n\n        if (nvrPlugin) {\n            await this.validate(this.console, \"GPU Decode\", async () => {\n                const ffmpegPath = await sdk.mediaManager.getFFmpegPath();\n                let hasVaapi = false;\n                {\n                    const args = [\n                        '-y',\n                        '-hwaccel', 'auto',\n                        '-i', 'https://github.com/koush/scrypted-sample-cameraprovider/raw/main/fs/dog.mp4',\n                        '-f', 'rawvideo',\n                        'pipe:3',\n                    ];\n                    const cp = child_process.spawn(ffmpegPath, args, {\n                        stdio: ['pipe', 'pipe', 'pipe', 'pipe'],\n                    });\n\n                    const deferred = new Deferred<void>();\n                    deferred.promise.catch(() => { }).finally(() => safeKillFFmpeg(cp));\n                    cp.stdio[3]?.on('data', () => { });\n\n                    cp.stderr!.on('data', data => {\n                        const str = data.toString();\n                        hasVaapi ||= str.includes('Using auto hwaccel type vaapi');\n\n                        if (str.includes('nv12'))\n                            deferred.resolve();\n                    });\n\n                    setTimeout(() => {\n                        deferred.reject(new Error('GPU Decode timed out.'));\n                    }, 5000);\n\n                    await deferred.promise;\n                }\n\n                if (!hasVaapi || !openvinoPlugin)\n                    return;\n\n                {\n                    const args = [\n                        '-y',\n                        '-init_hw_device', 'vaapi=renderD128:/dev/dri/renderD128',\n                        '-hwaccel', 'vaapi',\n                        '-hwaccel_output_format', 'vaapi',\n                        '-i', 'https://docs.scrypted.app/img/scrypted-nvr/troubleshooting/zidane.jpg',\n                        '-vf', 'format=nv12,hwupload,scale_vaapi=w=320:h=-2,hwdownload,format=nv12',\n                        '-f', 'mjpeg',\n                        '-frames:v', '1',\n                        'pipe:3',\n                    ];\n\n                    const cp = child_process.spawn(ffmpegPath, args, {\n                        stdio: ['pipe', 'pipe', 'pipe', 'pipe'],\n                    });\n                    let std = '';\n                    cp.stderr!.on('data', data => {\n                        std += data.toString();\n                    });\n\n                    cp.stdout!.on('data', data => {\n                        std += data.toString();\n                    });\n\n                    const buffers: Buffer[] = [];\n                    cp.stdio[3]?.on('data', buffer => {\n                        buffers.push(buffer);\n                    });\n\n                    setTimeout(() => {\n                        safeKillFFmpeg(cp)\n                    }, 5000);\n\n                    const [exitCode] = await once(cp, 'exit');\n                    if (exitCode) {\n                        this.warnStep(this.console, std);\n                        throw new Error('GPU Transform failed.');\n                    }\n\n                    const jpeg = Buffer.concat(buffers);\n                    const zidane = await sdk.mediaManager.createMediaObject(jpeg, 'image/jpeg');\n                    const image = await sdk.mediaManager.convertMediaObject<Image>(zidane, ScryptedMimeTypes.Image);\n                    if (image.width !== 320)\n                        throw new Error('Unexpected image with from GPU transform.')\n                    const detected = await openvinoPlugin.detectObjects(zidane);\n                    const personFound = detected.detections!.find(d => d.className === 'person' && d.score > .9);\n                    if (!personFound)\n                        throw new Error('Person not detected in test image.');\n                }\n\n            });\n\n\n            await this.validate(this.console, 'Deprecated Plugins', async () => {\n                const defunctPlugins = [\n                    '@scrypted/electron-core',\n                    '@scrypted/opencv',\n                    '@scrypted/python-codecs',\n                    '@scrypted/pam-diff',\n                ];\n                let found = false;\n\n                for (const plugin of defunctPlugins) {\n                    const pluginDevice = sdk.systemManager.getDeviceById(plugin);\n                    if (pluginDevice) {\n                        this.warnStep(this.console, `Scrypted NVR users can remove: ${plugin}`);\n                        found = true;\n                    }\n                }\n\n                if (found)\n                    throw new Error('Deprecated plugins found.');\n            });\n        }\n\n        this.console.log(''.padEnd(44, '='));\n        this.console.log('System Validation Complete');\n        this.console.log(''.padEnd(44, '='));\n    }\n}\n\nexport default DiagnosticsPlugin;\n","export class Deferred<T> {\n    finished = false;\n    resolve!: (value: T) => this;\n    reject!: (error: Error) => this;\n    async resolvePromise(p: Promise<T>) {\n        try {\n            this.resolve(await p);\n        }\n        catch (e) {\n            this.reject(e as Error);\n        }\n    }\n    promise = new Promise<T>((resolve, reject) => {\n        this.resolve = v => {\n            this.finished = true;\n            resolve(v);\n            return this;\n        };\n        this.reject = e => {\n            this.finished = true;\n            reject(e);\n            return this;\n        };\n    });\n}\n","import type events from 'events';\nimport type followRedirects from 'follow-redirects';\nimport type { IncomingMessage } from 'http';\nimport type stream from 'stream';\nimport type { Readable } from 'stream';\nimport { HttpFetchBufferOptions, HttpFetchJsonOptions, HttpFetchOptions, HttpFetchReadableOptions, HttpFetchResponse, HttpFetchResponseType, HttpFetchTextOptions, checkStatus, createHeadersArray, createStringOrBufferBody, getFetchMethod, setDefaultHttpFetchAccept } from '.';\nexport type { HttpFetchBufferOptions, HttpFetchJsonOptions, HttpFetchOptions, HttpFetchReadableOptions, HttpFetchResponse, HttpFetchResponseType, HttpFetchTextOptions, checkStatus, setDefaultHttpFetchAccept } from '.';\n\nasync function readMessageBuffer(response: IncomingMessage) {\n    const buffers: Buffer[] = [];\n    response.on('data', buffer => buffers.push(buffer));\n    const { once } = require('events') as typeof events;\n    await once(response, 'end');\n    return Buffer.concat(buffers);\n}\n\nexport interface FetchParser<T> {\n    parse(message: IncomingMessage): Promise<T>;\n}\n\nconst TextParser: FetchParser<string> = {\n    async parse(message: IncomingMessage) {\n        return (await readMessageBuffer(message)).toString();\n    }\n}\nconst JSONParser: FetchParser<any> = {\n    async parse(message: IncomingMessage) {\n        return JSON.parse((await readMessageBuffer(message)).toString());\n    }\n}\n\nconst BufferParser: FetchParser<Buffer> = {\n    async parse(message: IncomingMessage) {\n        return readMessageBuffer(message);\n    }\n}\n\nconst StreamParser: FetchParser<IncomingMessage> = {\n    async parse(message: IncomingMessage) {\n        return message;\n    }\n}\n\nexport function getHttpFetchParser(responseType: HttpFetchResponseType | undefined) {\n    switch (responseType) {\n        case 'json':\n            return JSONParser;\n        case 'text':\n            return TextParser;\n        case 'readable':\n            return StreamParser;\n    }\n    return BufferParser;\n}\n\nexport function httpFetchParseIncomingMessage(readable: IncomingMessage, responseType: HttpFetchResponseType | undefined) {\n    return getHttpFetchParser(responseType).parse(readable);\n}\n\nexport async function httpFetch<T extends HttpFetchOptions<Readable>>(options: T): Promise<HttpFetchResponse<\n    // first one serves as default.\n    T extends HttpFetchBufferOptions<Readable> ? Buffer\n    : T extends HttpFetchTextOptions<Readable> ? string\n    : T extends HttpFetchReadableOptions<Readable> ? IncomingMessage\n    : T extends HttpFetchJsonOptions<Readable> ? any : Buffer\n>> {\n    const headers = createHeadersArray(options.headers);\n    setDefaultHttpFetchAccept(headers, options.responseType);\n\n    const { once } = require('events') as typeof events;\n    const { PassThrough, Readable } = require('stream') as typeof stream;\n    const { http, https } = require('follow-redirects') as typeof followRedirects;\n\n    const { url } = options;\n    const isSecure = url.toString().startsWith('https:');\n    const proto = isSecure ? https : http;\n\n    let { body } = options;\n    if (body && !(body instanceof Readable)) {\n        const newBody = new PassThrough();\n        newBody.write(Buffer.from(createStringOrBufferBody(headers, body)));\n        newBody.end();\n        body = newBody;\n    }\n\n    let controller: AbortController | undefined;\n    let timeout: NodeJS.Timeout;\n    if (options.timeout) {\n        controller = new AbortController();\n        timeout = setTimeout(() => controller!.abort(), options.timeout);\n\n        options.signal?.addEventListener('abort', () => controller!.abort(options.signal?.reason));\n    }\n\n    const signal = controller?.signal || options.signal;\n    signal?.addEventListener('abort', () => request.destroy(new Error(options.signal?.reason || 'abort')));\n\n    const nodeHeaders: Record<string, string[]> = {};\n    for (const [k, v] of headers) {\n        if (nodeHeaders[k]) {\n            nodeHeaders[k].push(v);\n        }\n        else {\n            nodeHeaders[k] = [v];\n        }\n    }\n\n    const request = proto.request(url, {\n        method: getFetchMethod(options),\n        rejectUnauthorized: options.rejectUnauthorized,\n        family: options.family,\n        headers: nodeHeaders,\n        signal,\n        timeout: options.timeout,\n    });\n\n    if (body)\n        body.pipe(request);\n    else\n        request.end();\n\n    try {\n        const [response] = await once(request, 'response') as [IncomingMessage];\n\n\n        if (options?.checkStatusCode === undefined || options?.checkStatusCode) {\n            try {\n                const checker = typeof options?.checkStatusCode === 'function' ? options.checkStatusCode : checkStatus;\n                if (!response.statusCode || !checker(response.statusCode))\n                    throw new Error(`http response statusCode ${response.statusCode}`);\n            }\n            catch (e) {\n                readMessageBuffer(response).catch(() => { });\n                throw e;\n            }\n        }\n\n        const incomingHeaders = new Headers();\n        for (const [k, v] of Object.entries(response.headers)) {\n            for (const vv of (typeof v === 'string' ? [v] : v!)) {\n                incomingHeaders.append(k, vv)\n            }\n        }\n\n        return {\n            statusCode: response.statusCode!,\n            headers: incomingHeaders,\n            body: await httpFetchParseIncomingMessage(response, options.responseType),\n        };\n    }\n    finally {\n        clearTimeout(timeout!);\n    }\n}\n\n","export type HttpFetchResponseType = 'json' | 'text' | 'buffer' | 'readable';\nexport interface HttpFetchOptionsBase<B> {\n    url: string | URL;\n    family?: 4 | 6;\n    method?: string;\n    headers?: HeadersInit;\n    signal?: AbortSignal,\n    timeout?: number;\n    rejectUnauthorized?: boolean;\n    /**\n     * Checks the status code. Defaults to true.\n     */\n    checkStatusCode?: boolean | ((statusCode: number) => boolean);\n    body?: B | string | ArrayBufferView | any;\n    withCredentials?: boolean;\n}\n\nexport interface HttpFetchJsonOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType: 'json';\n}\n\nexport interface HttpFetchBufferOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType: 'buffer';\n}\n\nexport interface HttpFetchDefaultOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType?: undefined;\n}\n\nexport interface HttpFetchTextOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType: 'text';\n}\nexport interface HttpFetchReadableOptions<B> extends HttpFetchOptionsBase<B> {\n    responseType: 'readable';\n}\n\nexport type HttpFetchOptions<B> = HttpFetchJsonOptions<B> | HttpFetchBufferOptions<B> | HttpFetchDefaultOptions<B> | HttpFetchTextOptions<B> | HttpFetchReadableOptions<B>;\n\nexport function fetchStatusCodeOk(statusCode: number) {\n    return statusCode >= 200 && statusCode <= 299;\n}\n\nexport function checkStatus(statusCode: number) {\n    if (!fetchStatusCodeOk(statusCode))\n        throw new Error(`http response statusCode ${statusCode}`);\n    return true;\n}\n\nexport function getFetchMethod(options: HttpFetchOptions<any>) {\n    const method = options.method || (options.body ? 'POST' : 'GET');\n    return method;\n}\n\nexport interface HttpFetchResponse<T> {\n    statusCode: number;\n    headers: Headers;\n    body: T;\n}\n\nexport type fetcher<B, M> = <T extends HttpFetchOptions<B>>(options: T) => Promise<HttpFetchResponse<\n    // first one serves as default.\n    T extends HttpFetchBufferOptions<B> ? Buffer\n    : T extends HttpFetchTextOptions<B> ? string\n    : T extends HttpFetchReadableOptions<B> ? M\n    : T extends HttpFetchJsonOptions<B> ? any : Buffer\n>>;\n\n\nexport function getHttpFetchAccept(responseType: HttpFetchResponseType | undefined) {\n    switch (responseType) {\n        case 'json':\n            return 'application/json';\n        case 'text':\n            return 'text/plain';\n    }\n    return;\n}\n\nexport function hasHeader(headers: [string, string][], key: string) {\n    key = key.toLowerCase();\n    return headers.find(([k]) => k.toLowerCase() === key);\n}\n\nexport function removeHeader(headers: [string, string][], key: string) {\n    key = key.toLowerCase();\n    const filteredHeaders = headers.filter(([headerKey, _]) => headerKey.toLowerCase() !== key);\n    headers.length = 0;\n    filteredHeaders.forEach(header => headers.push(header));\n}\n\nexport function setHeader(headers: [string, string][], key: string, value: string) {\n    removeHeader(headers, key);\n    headers.push([key, value]);\n}\n\nexport function setDefaultHttpFetchAccept(headers: [string, string][], responseType: HttpFetchResponseType | undefined) {\n    if (hasHeader(headers, 'Accept'))\n        return;\n    const accept = getHttpFetchAccept(responseType);\n    if (accept)\n        setHeader(headers, 'Accept', accept);\n}\n\nexport function createHeadersArray(headers: HeadersInit | undefined): [string, string][] {\n    const headersArray: [string, string][] = [];\n    if (!headers)\n        return headersArray;\n    if (headers instanceof Headers) {\n        for (const [k, v] of headers.entries()) {\n            headersArray.push([k, v]);\n        }\n        return headersArray;\n    }\n\n    if (headers instanceof Array) {\n        for (const [k, v] of headers) {\n            headersArray.push([k, v]);\n        }\n        return headersArray;\n    }\n\n    for (const k of Object.keys(headers)) {\n        const v = headers[k];\n        headersArray.push([k, v]);\n    }\n\n    return headersArray;\n}\n\n/**\n *\n * @param headers\n * @param body\n * @returns Returns the body and Content-Type header that was set.\n */\nexport function createStringOrBufferBody(headers: [string, string][], body: any) {\n    let contentType: string | undefined;\n    if (typeof body === 'object') {\n        body = JSON.stringify(body);\n        contentType = 'application/json';\n    }\n    else if (typeof body === 'string') {\n        contentType = 'text/plain';\n    }\n\n    if (contentType && !hasHeader(headers, 'Content-Type'))\n        setHeader(headers, 'Content-Type', contentType);\n\n    if (!hasHeader(headers, 'Content-Length')) {\n        body = Buffer.from(body);\n        setHeader(headers, 'Content-Length', body.length.toString());\n    }\n    return body;\n}\n\nexport async function domFetchParseIncomingMessage(response: Response, responseType: HttpFetchResponseType | undefined) {\n    switch (responseType) {\n        case 'json':\n            return response.json();\n        case 'text':\n            return response.text();\n        case 'readable':\n            return response;\n    }\n    return new Uint8Array(await response.arrayBuffer());\n}\n\nexport async function domFetch<T extends HttpFetchOptions<BodyInit>>(options: T): Promise<HttpFetchResponse<\n    // first one serves as default.\n    T extends HttpFetchBufferOptions<BodyInit> ? Buffer\n    : T extends HttpFetchTextOptions<BodyInit> ? string\n    : T extends HttpFetchReadableOptions<BodyInit> ? Response\n    : T extends HttpFetchJsonOptions<BodyInit> ? any : Buffer\n>> {\n    const headers = createHeadersArray(options.headers);\n    setDefaultHttpFetchAccept(headers, options.responseType);\n\n    let { body } = options;\n    if (body && !(body instanceof ReadableStream)) {\n        body = createStringOrBufferBody(headers, body);\n    }\n\n    let controller: AbortController | undefined;\n    let timeout: NodeJS.Timeout;\n    if (options.timeout) {\n        controller = new AbortController();\n        timeout = setTimeout(() => controller!.abort(), options.timeout);\n\n        options.signal?.addEventListener('abort', () => controller!.abort(options.signal?.reason));\n    }\n\n    try {\n        const { url } = options;\n        const response = await fetch(url, {\n            method: getFetchMethod(options),\n            credentials: options.withCredentials ? 'include' : undefined,\n            headers,\n            signal: controller?.signal || options.signal,\n            body,\n        });\n\n        if (options?.checkStatusCode === undefined || options?.checkStatusCode) {\n            try {\n                const checker = typeof options?.checkStatusCode === 'function' ? options.checkStatusCode : checkStatus;\n                if (!checker(response.status))\n                    throw new Error(`http response statusCode ${response.status}`);\n            }\n            catch (e) {\n                response.arrayBuffer().catch(() => { });\n                throw e;\n            }\n        }\n\n        return {\n            statusCode: response.status,\n            headers: response.headers,\n            body: await domFetchParseIncomingMessage(response, options.responseType),\n        };\n    }\n    finally {\n        clearTimeout(timeout!);\n    }\n}\n","import { ChildProcess } from \"child_process\";\nimport process from 'process';\nimport { sleep } from \"./sleep\";\n\nconst filtered = [\n    'decode_slice_header error',\n    'no frame!',\n    'non-existing PPS',\n];\n\nexport async function safeKillFFmpeg(cp: ChildProcess) {\n    if (!cp)\n        return;\n    if (cp.exitCode != null)\n        return;\n    await new Promise(async resolve => {\n        cp.on('exit', resolve);\n        // this will allow ffmpeg to send rtsp TEARDOWN etc\n        try {\n            cp.stdin!.on('error', () => { });\n            cp.stdin!.write('q\\n');\n        }\n        catch (e) {\n        }\n\n        await sleep(2000);\n        for (const f of cp.stdio) {\n            try {\n                f?.destroy();\n            }\n            catch (e) {\n            }\n        }\n        cp.kill();\n        await sleep(2000);\n        cp.kill('SIGKILL');\n    });\n}\n\nexport function ffmpegLogInitialOutput(console: Console, cp: ChildProcess, forever?: boolean, storage?: Storage) {\n    if (!console)\n        return;\n\n    const SCRYPTED_FFMPEG_NOISY = !!process.env.SCRYPTED_FFMPEG_NOISY || !!storage?.getItem('SCRYPTED_FFMPEG_NOISY');\n\n    function logger(log: (str: string) => void): (buffer: Buffer) => void {\n        const ret = (buffer: Buffer) => {\n            const str = buffer.toString();\n\n            for (const filter of filtered) {\n                if (str.indexOf(filter) !== -1)\n                    return;\n            }\n\n            if (!SCRYPTED_FFMPEG_NOISY && !forever && (str.indexOf('frame=') !== -1 || str.indexOf('size=') !== -1)) {\n                log(str);\n                log('video/audio detected, discarding further input');\n                cp.stdout!.removeListener('data', ret);\n                cp.stderr!.removeListener('data', ret);\n                return;\n            }\n\n            log(str);\n        }\n\n        return ret;\n    };\n    cp.stdout?.on('data', logger(console.log));\n    cp.stderr?.on('data', logger(console.error));\n    cp.on('exit', () => console.log('ffmpeg exited'));\n}\n\nexport function safePrintFFmpegArguments(console: Console, args: string[]) {\n    if (!console)\n        return;\n    const ret = [];\n    let redactNext = false;\n    for (const arg of args) {\n        try {\n            if (redactNext) {\n                const url = new URL(arg);\n                ret.push(`${url.protocol}[REDACTED]`)\n            }\n            else {\n                ret.push(arg);\n            }\n        }\n        catch (e) {\n            ret.push(arg);\n        }\n\n        // input arguments may contain passwords.\n        redactNext = arg === '-i';\n    }\n\n    console.log(ret.join(' '));\n}\n","export async function sleep(ms: number) {\n    await new Promise(resolve => setTimeout(resolve, ms));\n}\n","const sharp = __non_webpack_require__('sharp'); module.exports = sharp;","/* eslint-env browser */\n\n/**\n * This is the web browser implementation of `debug()`.\n */\n\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.storage = localstorage();\nexports.destroy = (() => {\n\tlet warned = false;\n\n\treturn () => {\n\t\tif (!warned) {\n\t\t\twarned = true;\n\t\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t\t}\n\t};\n})();\n\n/**\n * Colors.\n */\n\nexports.colors = [\n\t'#0000CC',\n\t'#0000FF',\n\t'#0033CC',\n\t'#0033FF',\n\t'#0066CC',\n\t'#0066FF',\n\t'#0099CC',\n\t'#0099FF',\n\t'#00CC00',\n\t'#00CC33',\n\t'#00CC66',\n\t'#00CC99',\n\t'#00CCCC',\n\t'#00CCFF',\n\t'#3300CC',\n\t'#3300FF',\n\t'#3333CC',\n\t'#3333FF',\n\t'#3366CC',\n\t'#3366FF',\n\t'#3399CC',\n\t'#3399FF',\n\t'#33CC00',\n\t'#33CC33',\n\t'#33CC66',\n\t'#33CC99',\n\t'#33CCCC',\n\t'#33CCFF',\n\t'#6600CC',\n\t'#6600FF',\n\t'#6633CC',\n\t'#6633FF',\n\t'#66CC00',\n\t'#66CC33',\n\t'#9900CC',\n\t'#9900FF',\n\t'#9933CC',\n\t'#9933FF',\n\t'#99CC00',\n\t'#99CC33',\n\t'#CC0000',\n\t'#CC0033',\n\t'#CC0066',\n\t'#CC0099',\n\t'#CC00CC',\n\t'#CC00FF',\n\t'#CC3300',\n\t'#CC3333',\n\t'#CC3366',\n\t'#CC3399',\n\t'#CC33CC',\n\t'#CC33FF',\n\t'#CC6600',\n\t'#CC6633',\n\t'#CC9900',\n\t'#CC9933',\n\t'#CCCC00',\n\t'#CCCC33',\n\t'#FF0000',\n\t'#FF0033',\n\t'#FF0066',\n\t'#FF0099',\n\t'#FF00CC',\n\t'#FF00FF',\n\t'#FF3300',\n\t'#FF3333',\n\t'#FF3366',\n\t'#FF3399',\n\t'#FF33CC',\n\t'#FF33FF',\n\t'#FF6600',\n\t'#FF6633',\n\t'#FF9900',\n\t'#FF9933',\n\t'#FFCC00',\n\t'#FFCC33'\n];\n\n/**\n * Currently only WebKit-based Web Inspectors, Firefox >= v31,\n * and the Firebug extension (any Firefox version) are known\n * to support \"%c\" CSS customizations.\n *\n * TODO: add a `localStorage` variable to explicitly enable/disable colors\n */\n\n// eslint-disable-next-line complexity\nfunction useColors() {\n\t// NB: In an Electron preload script, document will be defined but not fully\n\t// initialized. Since we know we're in Chrome, we'll just detect this case\n\t// explicitly\n\tif (typeof window !== 'undefined' && window.process && (window.process.type === 'renderer' || window.process.__nwjs)) {\n\t\treturn true;\n\t}\n\n\t// Internet Explorer and Edge do not support colors.\n\tif (typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/(edge|trident)\\/(\\d+)/)) {\n\t\treturn false;\n\t}\n\n\t// Is webkit? http://stackoverflow.com/a/16459606/376773\n\t// document is undefined in react-native: https://github.com/facebook/react-native/pull/1632\n\treturn (typeof document !== 'undefined' && document.documentElement && document.documentElement.style && document.documentElement.style.WebkitAppearance) ||\n\t\t// Is firebug? http://stackoverflow.com/a/398120/376773\n\t\t(typeof window !== 'undefined' && window.console && (window.console.firebug || (window.console.exception && window.console.table))) ||\n\t\t// Is firefox >= v31?\n\t\t// https://developer.mozilla.org/en-US/docs/Tools/Web_Console#Styling_messages\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/firefox\\/(\\d+)/) && parseInt(RegExp.$1, 10) >= 31) ||\n\t\t// Double check webkit in userAgent just in case we are in a worker\n\t\t(typeof navigator !== 'undefined' && navigator.userAgent && navigator.userAgent.toLowerCase().match(/applewebkit\\/(\\d+)/));\n}\n\n/**\n * Colorize log arguments if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\targs[0] = (this.useColors ? '%c' : '') +\n\t\tthis.namespace +\n\t\t(this.useColors ? ' %c' : ' ') +\n\t\targs[0] +\n\t\t(this.useColors ? '%c ' : ' ') +\n\t\t'+' + module.exports.humanize(this.diff);\n\n\tif (!this.useColors) {\n\t\treturn;\n\t}\n\n\tconst c = 'color: ' + this.color;\n\targs.splice(1, 0, c, 'color: inherit');\n\n\t// The final \"%c\" is somewhat tricky, because there could be other\n\t// arguments passed either before or after the %c, so we need to\n\t// figure out the correct index to insert the CSS into\n\tlet index = 0;\n\tlet lastC = 0;\n\targs[0].replace(/%[a-zA-Z%]/g, match => {\n\t\tif (match === '%%') {\n\t\t\treturn;\n\t\t}\n\t\tindex++;\n\t\tif (match === '%c') {\n\t\t\t// We only are interested in the *last* %c\n\t\t\t// (the user may have provided their own)\n\t\t\tlastC = index;\n\t\t}\n\t});\n\n\targs.splice(lastC, 0, c);\n}\n\n/**\n * Invokes `console.debug()` when available.\n * No-op when `console.debug` is not a \"function\".\n * If `console.debug` is not available, falls back\n * to `console.log`.\n *\n * @api public\n */\nexports.log = console.debug || console.log || (() => {});\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\ttry {\n\t\tif (namespaces) {\n\t\t\texports.storage.setItem('debug', namespaces);\n\t\t} else {\n\t\t\texports.storage.removeItem('debug');\n\t\t}\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\nfunction load() {\n\tlet r;\n\ttry {\n\t\tr = exports.storage.getItem('debug');\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n\n\t// If debug isn't set in LS, and we're in Electron, try to load $DEBUG\n\tif (!r && typeof process !== 'undefined' && 'env' in process) {\n\t\tr = process.env.DEBUG;\n\t}\n\n\treturn r;\n}\n\n/**\n * Localstorage attempts to return the localstorage.\n *\n * This is necessary because safari throws\n * when a user disables cookies/localstorage\n * and you attempt to access it.\n *\n * @return {LocalStorage}\n * @api private\n */\n\nfunction localstorage() {\n\ttry {\n\t\t// TVMLKit (Apple TV JS Runtime) does not have a window object, just localStorage in the global context\n\t\t// The Browser also has localStorage in the global context.\n\t\treturn localStorage;\n\t} catch (error) {\n\t\t// Swallow\n\t\t// XXX (@Qix-) should we be logging these?\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %j to `JSON.stringify()`, since no Web Inspectors do that by default.\n */\n\nformatters.j = function (v) {\n\ttry {\n\t\treturn JSON.stringify(v);\n\t} catch (error) {\n\t\treturn '[UnexpectedJSONParseError]: ' + error.message;\n\t}\n};\n","\n/**\n * This is the common logic for both the Node.js and web browser\n * implementations of `debug()`.\n */\n\nfunction setup(env) {\n\tcreateDebug.debug = createDebug;\n\tcreateDebug.default = createDebug;\n\tcreateDebug.coerce = coerce;\n\tcreateDebug.disable = disable;\n\tcreateDebug.enable = enable;\n\tcreateDebug.enabled = enabled;\n\tcreateDebug.humanize = require('ms');\n\tcreateDebug.destroy = destroy;\n\n\tObject.keys(env).forEach(key => {\n\t\tcreateDebug[key] = env[key];\n\t});\n\n\t/**\n\t* The currently active debug mode names, and names to skip.\n\t*/\n\n\tcreateDebug.names = [];\n\tcreateDebug.skips = [];\n\n\t/**\n\t* Map of special \"%n\" handling functions, for the debug \"format\" argument.\n\t*\n\t* Valid key names are a single, lower or upper-case letter, i.e. \"n\" and \"N\".\n\t*/\n\tcreateDebug.formatters = {};\n\n\t/**\n\t* Selects a color for a debug namespace\n\t* @param {String} namespace The namespace string for the debug instance to be colored\n\t* @return {Number|String} An ANSI color code for the given namespace\n\t* @api private\n\t*/\n\tfunction selectColor(namespace) {\n\t\tlet hash = 0;\n\n\t\tfor (let i = 0; i < namespace.length; i++) {\n\t\t\thash = ((hash << 5) - hash) + namespace.charCodeAt(i);\n\t\t\thash |= 0; // Convert to 32bit integer\n\t\t}\n\n\t\treturn createDebug.colors[Math.abs(hash) % createDebug.colors.length];\n\t}\n\tcreateDebug.selectColor = selectColor;\n\n\t/**\n\t* Create a debugger with the given `namespace`.\n\t*\n\t* @param {String} namespace\n\t* @return {Function}\n\t* @api public\n\t*/\n\tfunction createDebug(namespace) {\n\t\tlet prevTime;\n\t\tlet enableOverride = null;\n\t\tlet namespacesCache;\n\t\tlet enabledCache;\n\n\t\tfunction debug(...args) {\n\t\t\t// Disabled?\n\t\t\tif (!debug.enabled) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst self = debug;\n\n\t\t\t// Set `diff` timestamp\n\t\t\tconst curr = Number(new Date());\n\t\t\tconst ms = curr - (prevTime || curr);\n\t\t\tself.diff = ms;\n\t\t\tself.prev = prevTime;\n\t\t\tself.curr = curr;\n\t\t\tprevTime = curr;\n\n\t\t\targs[0] = createDebug.coerce(args[0]);\n\n\t\t\tif (typeof args[0] !== 'string') {\n\t\t\t\t// Anything else let's inspect with %O\n\t\t\t\targs.unshift('%O');\n\t\t\t}\n\n\t\t\t// Apply any `formatters` transformations\n\t\t\tlet index = 0;\n\t\t\targs[0] = args[0].replace(/%([a-zA-Z%])/g, (match, format) => {\n\t\t\t\t// If we encounter an escaped % then don't increase the array index\n\t\t\t\tif (match === '%%') {\n\t\t\t\t\treturn '%';\n\t\t\t\t}\n\t\t\t\tindex++;\n\t\t\t\tconst formatter = createDebug.formatters[format];\n\t\t\t\tif (typeof formatter === 'function') {\n\t\t\t\t\tconst val = args[index];\n\t\t\t\t\tmatch = formatter.call(self, val);\n\n\t\t\t\t\t// Now we need to remove `args[index]` since it's inlined in the `format`\n\t\t\t\t\targs.splice(index, 1);\n\t\t\t\t\tindex--;\n\t\t\t\t}\n\t\t\t\treturn match;\n\t\t\t});\n\n\t\t\t// Apply env-specific formatting (colors, etc.)\n\t\t\tcreateDebug.formatArgs.call(self, args);\n\n\t\t\tconst logFn = self.log || createDebug.log;\n\t\t\tlogFn.apply(self, args);\n\t\t}\n\n\t\tdebug.namespace = namespace;\n\t\tdebug.useColors = createDebug.useColors();\n\t\tdebug.color = createDebug.selectColor(namespace);\n\t\tdebug.extend = extend;\n\t\tdebug.destroy = createDebug.destroy; // XXX Temporary. Will be removed in the next major release.\n\n\t\tObject.defineProperty(debug, 'enabled', {\n\t\t\tenumerable: true,\n\t\t\tconfigurable: false,\n\t\t\tget: () => {\n\t\t\t\tif (enableOverride !== null) {\n\t\t\t\t\treturn enableOverride;\n\t\t\t\t}\n\t\t\t\tif (namespacesCache !== createDebug.namespaces) {\n\t\t\t\t\tnamespacesCache = createDebug.namespaces;\n\t\t\t\t\tenabledCache = createDebug.enabled(namespace);\n\t\t\t\t}\n\n\t\t\t\treturn enabledCache;\n\t\t\t},\n\t\t\tset: v => {\n\t\t\t\tenableOverride = v;\n\t\t\t}\n\t\t});\n\n\t\t// Env-specific initialization logic for debug instances\n\t\tif (typeof createDebug.init === 'function') {\n\t\t\tcreateDebug.init(debug);\n\t\t}\n\n\t\treturn debug;\n\t}\n\n\tfunction extend(namespace, delimiter) {\n\t\tconst newDebug = createDebug(this.namespace + (typeof delimiter === 'undefined' ? ':' : delimiter) + namespace);\n\t\tnewDebug.log = this.log;\n\t\treturn newDebug;\n\t}\n\n\t/**\n\t* Enables a debug mode by namespaces. This can include modes\n\t* separated by a colon and wildcards.\n\t*\n\t* @param {String} namespaces\n\t* @api public\n\t*/\n\tfunction enable(namespaces) {\n\t\tcreateDebug.save(namespaces);\n\t\tcreateDebug.namespaces = namespaces;\n\n\t\tcreateDebug.names = [];\n\t\tcreateDebug.skips = [];\n\n\t\tlet i;\n\t\tconst split = (typeof namespaces === 'string' ? namespaces : '').split(/[\\s,]+/);\n\t\tconst len = split.length;\n\n\t\tfor (i = 0; i < len; i++) {\n\t\t\tif (!split[i]) {\n\t\t\t\t// ignore empty strings\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tnamespaces = split[i].replace(/\\*/g, '.*?');\n\n\t\t\tif (namespaces[0] === '-') {\n\t\t\t\tcreateDebug.skips.push(new RegExp('^' + namespaces.slice(1) + '$'));\n\t\t\t} else {\n\t\t\t\tcreateDebug.names.push(new RegExp('^' + namespaces + '$'));\n\t\t\t}\n\t\t}\n\t}\n\n\t/**\n\t* Disable debug output.\n\t*\n\t* @return {String} namespaces\n\t* @api public\n\t*/\n\tfunction disable() {\n\t\tconst namespaces = [\n\t\t\t...createDebug.names.map(toNamespace),\n\t\t\t...createDebug.skips.map(toNamespace).map(namespace => '-' + namespace)\n\t\t].join(',');\n\t\tcreateDebug.enable('');\n\t\treturn namespaces;\n\t}\n\n\t/**\n\t* Returns true if the given mode name is enabled, false otherwise.\n\t*\n\t* @param {String} name\n\t* @return {Boolean}\n\t* @api public\n\t*/\n\tfunction enabled(name) {\n\t\tif (name[name.length - 1] === '*') {\n\t\t\treturn true;\n\t\t}\n\n\t\tlet i;\n\t\tlet len;\n\n\t\tfor (i = 0, len = createDebug.skips.length; i < len; i++) {\n\t\t\tif (createDebug.skips[i].test(name)) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}\n\n\t\tfor (i = 0, len = createDebug.names.length; i < len; i++) {\n\t\t\tif (createDebug.names[i].test(name)) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t}\n\n\t\treturn false;\n\t}\n\n\t/**\n\t* Convert regexp to namespace\n\t*\n\t* @param {RegExp} regxep\n\t* @return {String} namespace\n\t* @api private\n\t*/\n\tfunction toNamespace(regexp) {\n\t\treturn regexp.toString()\n\t\t\t.substring(2, regexp.toString().length - 2)\n\t\t\t.replace(/\\.\\*\\?$/, '*');\n\t}\n\n\t/**\n\t* Coerce `val`.\n\t*\n\t* @param {Mixed} val\n\t* @return {Mixed}\n\t* @api private\n\t*/\n\tfunction coerce(val) {\n\t\tif (val instanceof Error) {\n\t\t\treturn val.stack || val.message;\n\t\t}\n\t\treturn val;\n\t}\n\n\t/**\n\t* XXX DO NOT USE. This is a temporary stub function.\n\t* XXX It WILL be removed in the next major release.\n\t*/\n\tfunction destroy() {\n\t\tconsole.warn('Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.');\n\t}\n\n\tcreateDebug.enable(createDebug.load());\n\n\treturn createDebug;\n}\n\nmodule.exports = setup;\n","/**\n * Detect Electron renderer / nwjs process, which is node, but we should\n * treat as a browser.\n */\n\nif (typeof process === 'undefined' || process.type === 'renderer' || process.browser === true || process.__nwjs) {\n\tmodule.exports = require('./browser.js');\n} else {\n\tmodule.exports = require('./node.js');\n}\n","/**\n * Module dependencies.\n */\n\nconst tty = require('tty');\nconst util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n */\n\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\nexports.destroy = util.deprecate(\n\t() => {},\n\t'Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.'\n);\n\n/**\n * Colors.\n */\n\nexports.colors = [6, 2, 3, 4, 5, 1];\n\ntry {\n\t// Optional dependency (as in, doesn't need to be installed, NOT like optionalDependencies in package.json)\n\t// eslint-disable-next-line import/no-extraneous-dependencies\n\tconst supportsColor = require('supports-color');\n\n\tif (supportsColor && (supportsColor.stderr || supportsColor).level >= 2) {\n\t\texports.colors = [\n\t\t\t20,\n\t\t\t21,\n\t\t\t26,\n\t\t\t27,\n\t\t\t32,\n\t\t\t33,\n\t\t\t38,\n\t\t\t39,\n\t\t\t40,\n\t\t\t41,\n\t\t\t42,\n\t\t\t43,\n\t\t\t44,\n\t\t\t45,\n\t\t\t56,\n\t\t\t57,\n\t\t\t62,\n\t\t\t63,\n\t\t\t68,\n\t\t\t69,\n\t\t\t74,\n\t\t\t75,\n\t\t\t76,\n\t\t\t77,\n\t\t\t78,\n\t\t\t79,\n\t\t\t80,\n\t\t\t81,\n\t\t\t92,\n\t\t\t93,\n\t\t\t98,\n\t\t\t99,\n\t\t\t112,\n\t\t\t113,\n\t\t\t128,\n\t\t\t129,\n\t\t\t134,\n\t\t\t135,\n\t\t\t148,\n\t\t\t149,\n\t\t\t160,\n\t\t\t161,\n\t\t\t162,\n\t\t\t163,\n\t\t\t164,\n\t\t\t165,\n\t\t\t166,\n\t\t\t167,\n\t\t\t168,\n\t\t\t169,\n\t\t\t170,\n\t\t\t171,\n\t\t\t172,\n\t\t\t173,\n\t\t\t178,\n\t\t\t179,\n\t\t\t184,\n\t\t\t185,\n\t\t\t196,\n\t\t\t197,\n\t\t\t198,\n\t\t\t199,\n\t\t\t200,\n\t\t\t201,\n\t\t\t202,\n\t\t\t203,\n\t\t\t204,\n\t\t\t205,\n\t\t\t206,\n\t\t\t207,\n\t\t\t208,\n\t\t\t209,\n\t\t\t214,\n\t\t\t215,\n\t\t\t220,\n\t\t\t221\n\t\t];\n\t}\n} catch (error) {\n\t// Swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(key => {\n\treturn /^debug_/i.test(key);\n}).reduce((obj, key) => {\n\t// Camel-case\n\tconst prop = key\n\t\t.substring(6)\n\t\t.toLowerCase()\n\t\t.replace(/_([a-z])/g, (_, k) => {\n\t\t\treturn k.toUpperCase();\n\t\t});\n\n\t// Coerce string value into JS value\n\tlet val = process.env[key];\n\tif (/^(yes|on|true|enabled)$/i.test(val)) {\n\t\tval = true;\n\t} else if (/^(no|off|false|disabled)$/i.test(val)) {\n\t\tval = false;\n\t} else if (val === 'null') {\n\t\tval = null;\n\t} else {\n\t\tval = Number(val);\n\t}\n\n\tobj[prop] = val;\n\treturn obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n\treturn 'colors' in exports.inspectOpts ?\n\t\tBoolean(exports.inspectOpts.colors) :\n\t\ttty.isatty(process.stderr.fd);\n}\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n\tconst {namespace: name, useColors} = this;\n\n\tif (useColors) {\n\t\tconst c = this.color;\n\t\tconst colorCode = '\\u001B[3' + (c < 8 ? c : '8;5;' + c);\n\t\tconst prefix = `  ${colorCode};1m${name} \\u001B[0m`;\n\n\t\targs[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n\t\targs.push(colorCode + 'm+' + module.exports.humanize(this.diff) + '\\u001B[0m');\n\t} else {\n\t\targs[0] = getDate() + name + ' ' + args[0];\n\t}\n}\n\nfunction getDate() {\n\tif (exports.inspectOpts.hideDate) {\n\t\treturn '';\n\t}\n\treturn new Date().toISOString() + ' ';\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log(...args) {\n\treturn process.stderr.write(util.format(...args) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\nfunction save(namespaces) {\n\tif (namespaces) {\n\t\tprocess.env.DEBUG = namespaces;\n\t} else {\n\t\t// If you set a process.env field to null or undefined, it gets cast to the\n\t\t// string 'null' or 'undefined'. Just delete instead.\n\t\tdelete process.env.DEBUG;\n\t}\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n\treturn process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init(debug) {\n\tdebug.inspectOpts = {};\n\n\tconst keys = Object.keys(exports.inspectOpts);\n\tfor (let i = 0; i < keys.length; i++) {\n\t\tdebug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n\t}\n}\n\nmodule.exports = require('./common')(exports);\n\nconst {formatters} = module.exports;\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nformatters.o = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts)\n\t\t.split('\\n')\n\t\t.map(str => str.trim())\n\t\t.join(' ');\n};\n\n/**\n * Map %O to `util.inspect()`, allowing multiple lines if needed.\n */\n\nformatters.O = function (v) {\n\tthis.inspectOpts.colors = this.useColors;\n\treturn util.inspect(v, this.inspectOpts);\n};\n","var debug;\n\nmodule.exports = function () {\n  if (!debug) {\n    try {\n      /* eslint global-require: off */\n      debug = require(\"debug\")(\"follow-redirects\");\n    }\n    catch (error) { /* */ }\n    if (typeof debug !== \"function\") {\n      debug = function () { /* */ };\n    }\n  }\n  debug.apply(null, arguments);\n};\n","var url = require(\"url\");\nvar URL = url.URL;\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar Writable = require(\"stream\").Writable;\nvar assert = require(\"assert\");\nvar debug = require(\"./debug\");\n\n// Preventive platform detection\n// istanbul ignore next\n(function detectUnsupportedEnvironment() {\n  var looksLikeNode = typeof process !== \"undefined\";\n  var looksLikeBrowser = typeof window !== \"undefined\" && typeof document !== \"undefined\";\n  var looksLikeV8 = isFunction(Error.captureStackTrace);\n  if (!looksLikeNode && (looksLikeBrowser || !looksLikeV8)) {\n    console.warn(\"The follow-redirects package should be excluded from browser builds.\");\n  }\n}());\n\n// Whether to use the native URL object or the legacy url module\nvar useNativeURL = false;\ntry {\n  assert(new URL(\"\"));\n}\ncatch (error) {\n  useNativeURL = error.code === \"ERR_INVALID_URL\";\n}\n\n// URL fields to preserve in copy operations\nvar preservedUrlFields = [\n  \"auth\",\n  \"host\",\n  \"hostname\",\n  \"href\",\n  \"path\",\n  \"pathname\",\n  \"port\",\n  \"protocol\",\n  \"query\",\n  \"search\",\n  \"hash\",\n];\n\n// Create handlers that pass events from native requests\nvar events = [\"abort\", \"aborted\", \"connect\", \"error\", \"socket\", \"timeout\"];\nvar eventHandlers = Object.create(null);\nevents.forEach(function (event) {\n  eventHandlers[event] = function (arg1, arg2, arg3) {\n    this._redirectable.emit(event, arg1, arg2, arg3);\n  };\n});\n\n// Error types with codes\nvar InvalidUrlError = createErrorType(\n  \"ERR_INVALID_URL\",\n  \"Invalid URL\",\n  TypeError\n);\nvar RedirectionError = createErrorType(\n  \"ERR_FR_REDIRECTION_FAILURE\",\n  \"Redirected request failed\"\n);\nvar TooManyRedirectsError = createErrorType(\n  \"ERR_FR_TOO_MANY_REDIRECTS\",\n  \"Maximum number of redirects exceeded\",\n  RedirectionError\n);\nvar MaxBodyLengthExceededError = createErrorType(\n  \"ERR_FR_MAX_BODY_LENGTH_EXCEEDED\",\n  \"Request body larger than maxBodyLength limit\"\n);\nvar WriteAfterEndError = createErrorType(\n  \"ERR_STREAM_WRITE_AFTER_END\",\n  \"write after end\"\n);\n\n// istanbul ignore next\nvar destroy = Writable.prototype.destroy || noop;\n\n// An HTTP(S) request that can be redirected\nfunction RedirectableRequest(options, responseCallback) {\n  // Initialize the request\n  Writable.call(this);\n  this._sanitizeOptions(options);\n  this._options = options;\n  this._ended = false;\n  this._ending = false;\n  this._redirectCount = 0;\n  this._redirects = [];\n  this._requestBodyLength = 0;\n  this._requestBodyBuffers = [];\n\n  // Attach a callback if passed\n  if (responseCallback) {\n    this.on(\"response\", responseCallback);\n  }\n\n  // React to responses of native requests\n  var self = this;\n  this._onNativeResponse = function (response) {\n    try {\n      self._processResponse(response);\n    }\n    catch (cause) {\n      self.emit(\"error\", cause instanceof RedirectionError ?\n        cause : new RedirectionError({ cause: cause }));\n    }\n  };\n\n  // Perform the first request\n  this._performRequest();\n}\nRedirectableRequest.prototype = Object.create(Writable.prototype);\n\nRedirectableRequest.prototype.abort = function () {\n  destroyRequest(this._currentRequest);\n  this._currentRequest.abort();\n  this.emit(\"abort\");\n};\n\nRedirectableRequest.prototype.destroy = function (error) {\n  destroyRequest(this._currentRequest, error);\n  destroy.call(this, error);\n  return this;\n};\n\n// Writes buffered data to the current native request\nRedirectableRequest.prototype.write = function (data, encoding, callback) {\n  // Writing is not allowed if end has been called\n  if (this._ending) {\n    throw new WriteAfterEndError();\n  }\n\n  // Validate input and shift parameters if necessary\n  if (!isString(data) && !isBuffer(data)) {\n    throw new TypeError(\"data should be a string, Buffer or Uint8Array\");\n  }\n  if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Ignore empty buffers, since writing them doesn't invoke the callback\n  // https://github.com/nodejs/node/issues/22066\n  if (data.length === 0) {\n    if (callback) {\n      callback();\n    }\n    return;\n  }\n  // Only write when we don't exceed the maximum body length\n  if (this._requestBodyLength + data.length <= this._options.maxBodyLength) {\n    this._requestBodyLength += data.length;\n    this._requestBodyBuffers.push({ data: data, encoding: encoding });\n    this._currentRequest.write(data, encoding, callback);\n  }\n  // Error when we exceed the maximum body length\n  else {\n    this.emit(\"error\", new MaxBodyLengthExceededError());\n    this.abort();\n  }\n};\n\n// Ends the current native request\nRedirectableRequest.prototype.end = function (data, encoding, callback) {\n  // Shift parameters if necessary\n  if (isFunction(data)) {\n    callback = data;\n    data = encoding = null;\n  }\n  else if (isFunction(encoding)) {\n    callback = encoding;\n    encoding = null;\n  }\n\n  // Write data if needed and end\n  if (!data) {\n    this._ended = this._ending = true;\n    this._currentRequest.end(null, null, callback);\n  }\n  else {\n    var self = this;\n    var currentRequest = this._currentRequest;\n    this.write(data, encoding, function () {\n      self._ended = true;\n      currentRequest.end(null, null, callback);\n    });\n    this._ending = true;\n  }\n};\n\n// Sets a header value on the current native request\nRedirectableRequest.prototype.setHeader = function (name, value) {\n  this._options.headers[name] = value;\n  this._currentRequest.setHeader(name, value);\n};\n\n// Clears a header value on the current native request\nRedirectableRequest.prototype.removeHeader = function (name) {\n  delete this._options.headers[name];\n  this._currentRequest.removeHeader(name);\n};\n\n// Global timeout for all underlying requests\nRedirectableRequest.prototype.setTimeout = function (msecs, callback) {\n  var self = this;\n\n  // Destroys the socket on timeout\n  function destroyOnTimeout(socket) {\n    socket.setTimeout(msecs);\n    socket.removeListener(\"timeout\", socket.destroy);\n    socket.addListener(\"timeout\", socket.destroy);\n  }\n\n  // Sets up a timer to trigger a timeout event\n  function startTimer(socket) {\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n    }\n    self._timeout = setTimeout(function () {\n      self.emit(\"timeout\");\n      clearTimer();\n    }, msecs);\n    destroyOnTimeout(socket);\n  }\n\n  // Stops a timeout from triggering\n  function clearTimer() {\n    // Clear the timeout\n    if (self._timeout) {\n      clearTimeout(self._timeout);\n      self._timeout = null;\n    }\n\n    // Clean up all attached listeners\n    self.removeListener(\"abort\", clearTimer);\n    self.removeListener(\"error\", clearTimer);\n    self.removeListener(\"response\", clearTimer);\n    self.removeListener(\"close\", clearTimer);\n    if (callback) {\n      self.removeListener(\"timeout\", callback);\n    }\n    if (!self.socket) {\n      self._currentRequest.removeListener(\"socket\", startTimer);\n    }\n  }\n\n  // Attach callback if passed\n  if (callback) {\n    this.on(\"timeout\", callback);\n  }\n\n  // Start the timer if or when the socket is opened\n  if (this.socket) {\n    startTimer(this.socket);\n  }\n  else {\n    this._currentRequest.once(\"socket\", startTimer);\n  }\n\n  // Clean up on events\n  this.on(\"socket\", destroyOnTimeout);\n  this.on(\"abort\", clearTimer);\n  this.on(\"error\", clearTimer);\n  this.on(\"response\", clearTimer);\n  this.on(\"close\", clearTimer);\n\n  return this;\n};\n\n// Proxy all other public ClientRequest methods\n[\n  \"flushHeaders\", \"getHeader\",\n  \"setNoDelay\", \"setSocketKeepAlive\",\n].forEach(function (method) {\n  RedirectableRequest.prototype[method] = function (a, b) {\n    return this._currentRequest[method](a, b);\n  };\n});\n\n// Proxy all public ClientRequest properties\n[\"aborted\", \"connection\", \"socket\"].forEach(function (property) {\n  Object.defineProperty(RedirectableRequest.prototype, property, {\n    get: function () { return this._currentRequest[property]; },\n  });\n});\n\nRedirectableRequest.prototype._sanitizeOptions = function (options) {\n  // Ensure headers are always present\n  if (!options.headers) {\n    options.headers = {};\n  }\n\n  // Since http.request treats host as an alias of hostname,\n  // but the url module interprets host as hostname plus port,\n  // eliminate the host property to avoid confusion.\n  if (options.host) {\n    // Use hostname if set, because it has precedence\n    if (!options.hostname) {\n      options.hostname = options.host;\n    }\n    delete options.host;\n  }\n\n  // Complete the URL object when necessary\n  if (!options.pathname && options.path) {\n    var searchPos = options.path.indexOf(\"?\");\n    if (searchPos < 0) {\n      options.pathname = options.path;\n    }\n    else {\n      options.pathname = options.path.substring(0, searchPos);\n      options.search = options.path.substring(searchPos);\n    }\n  }\n};\n\n\n// Executes the next native request (initial or redirect)\nRedirectableRequest.prototype._performRequest = function () {\n  // Load the native protocol\n  var protocol = this._options.protocol;\n  var nativeProtocol = this._options.nativeProtocols[protocol];\n  if (!nativeProtocol) {\n    throw new TypeError(\"Unsupported protocol \" + protocol);\n  }\n\n  // If specified, use the agent corresponding to the protocol\n  // (HTTP and HTTPS use different types of agents)\n  if (this._options.agents) {\n    var scheme = protocol.slice(0, -1);\n    this._options.agent = this._options.agents[scheme];\n  }\n\n  // Create the native request and set up its event handlers\n  var request = this._currentRequest =\n        nativeProtocol.request(this._options, this._onNativeResponse);\n  request._redirectable = this;\n  for (var event of events) {\n    request.on(event, eventHandlers[event]);\n  }\n\n  // RFC7230§5.3.1: When making a request directly to an origin server, […]\n  // a client MUST send only the absolute path […] as the request-target.\n  this._currentUrl = /^\\//.test(this._options.path) ?\n    url.format(this._options) :\n    // When making a request to a proxy, […]\n    // a client MUST send the target URI in absolute-form […].\n    this._options.path;\n\n  // End a redirected request\n  // (The first request must be ended explicitly with RedirectableRequest#end)\n  if (this._isRedirect) {\n    // Write the request entity and end\n    var i = 0;\n    var self = this;\n    var buffers = this._requestBodyBuffers;\n    (function writeNext(error) {\n      // Only write if this request has not been redirected yet\n      // istanbul ignore else\n      if (request === self._currentRequest) {\n        // Report any write errors\n        // istanbul ignore if\n        if (error) {\n          self.emit(\"error\", error);\n        }\n        // Write the next buffer if there are still left\n        else if (i < buffers.length) {\n          var buffer = buffers[i++];\n          // istanbul ignore else\n          if (!request.finished) {\n            request.write(buffer.data, buffer.encoding, writeNext);\n          }\n        }\n        // End the request if `end` has been called on us\n        else if (self._ended) {\n          request.end();\n        }\n      }\n    }());\n  }\n};\n\n// Processes a response from the current native request\nRedirectableRequest.prototype._processResponse = function (response) {\n  // Store the redirected response\n  var statusCode = response.statusCode;\n  if (this._options.trackRedirects) {\n    this._redirects.push({\n      url: this._currentUrl,\n      headers: response.headers,\n      statusCode: statusCode,\n    });\n  }\n\n  // RFC7231§6.4: The 3xx (Redirection) class of status code indicates\n  // that further action needs to be taken by the user agent in order to\n  // fulfill the request. If a Location header field is provided,\n  // the user agent MAY automatically redirect its request to the URI\n  // referenced by the Location field value,\n  // even if the specific status code is not understood.\n\n  // If the response is not a redirect; return it as-is\n  var location = response.headers.location;\n  if (!location || this._options.followRedirects === false ||\n      statusCode < 300 || statusCode >= 400) {\n    response.responseUrl = this._currentUrl;\n    response.redirects = this._redirects;\n    this.emit(\"response\", response);\n\n    // Clean up\n    this._requestBodyBuffers = [];\n    return;\n  }\n\n  // The response is a redirect, so abort the current request\n  destroyRequest(this._currentRequest);\n  // Discard the remainder of the response to avoid waiting for data\n  response.destroy();\n\n  // RFC7231§6.4: A client SHOULD detect and intervene\n  // in cyclical redirections (i.e., \"infinite\" redirection loops).\n  if (++this._redirectCount > this._options.maxRedirects) {\n    throw new TooManyRedirectsError();\n  }\n\n  // Store the request headers if applicable\n  var requestHeaders;\n  var beforeRedirect = this._options.beforeRedirect;\n  if (beforeRedirect) {\n    requestHeaders = Object.assign({\n      // The Host header was set by nativeProtocol.request\n      Host: response.req.getHeader(\"host\"),\n    }, this._options.headers);\n  }\n\n  // RFC7231§6.4: Automatic redirection needs to done with\n  // care for methods not known to be safe, […]\n  // RFC7231§6.4.2–3: For historical reasons, a user agent MAY change\n  // the request method from POST to GET for the subsequent request.\n  var method = this._options.method;\n  if ((statusCode === 301 || statusCode === 302) && this._options.method === \"POST\" ||\n      // RFC7231§6.4.4: The 303 (See Other) status code indicates that\n      // the server is redirecting the user agent to a different resource […]\n      // A user agent can perform a retrieval request targeting that URI\n      // (a GET or HEAD request if using HTTP) […]\n      (statusCode === 303) && !/^(?:GET|HEAD)$/.test(this._options.method)) {\n    this._options.method = \"GET\";\n    // Drop a possible entity and headers related to it\n    this._requestBodyBuffers = [];\n    removeMatchingHeaders(/^content-/i, this._options.headers);\n  }\n\n  // Drop the Host header, as the redirect might lead to a different host\n  var currentHostHeader = removeMatchingHeaders(/^host$/i, this._options.headers);\n\n  // If the redirect is relative, carry over the host of the last request\n  var currentUrlParts = parseUrl(this._currentUrl);\n  var currentHost = currentHostHeader || currentUrlParts.host;\n  var currentUrl = /^\\w+:/.test(location) ? this._currentUrl :\n    url.format(Object.assign(currentUrlParts, { host: currentHost }));\n\n  // Create the redirected request\n  var redirectUrl = resolveUrl(location, currentUrl);\n  debug(\"redirecting to\", redirectUrl.href);\n  this._isRedirect = true;\n  spreadUrlObject(redirectUrl, this._options);\n\n  // Drop confidential headers when redirecting to a less secure protocol\n  // or to a different domain that is not a superdomain\n  if (redirectUrl.protocol !== currentUrlParts.protocol &&\n     redirectUrl.protocol !== \"https:\" ||\n     redirectUrl.host !== currentHost &&\n     !isSubdomain(redirectUrl.host, currentHost)) {\n    removeMatchingHeaders(/^(?:(?:proxy-)?authorization|cookie)$/i, this._options.headers);\n  }\n\n  // Evaluate the beforeRedirect callback\n  if (isFunction(beforeRedirect)) {\n    var responseDetails = {\n      headers: response.headers,\n      statusCode: statusCode,\n    };\n    var requestDetails = {\n      url: currentUrl,\n      method: method,\n      headers: requestHeaders,\n    };\n    beforeRedirect(this._options, responseDetails, requestDetails);\n    this._sanitizeOptions(this._options);\n  }\n\n  // Perform the redirected request\n  this._performRequest();\n};\n\n// Wraps the key/value object of protocols with redirect functionality\nfunction wrap(protocols) {\n  // Default settings\n  var exports = {\n    maxRedirects: 21,\n    maxBodyLength: 10 * 1024 * 1024,\n  };\n\n  // Wrap each protocol\n  var nativeProtocols = {};\n  Object.keys(protocols).forEach(function (scheme) {\n    var protocol = scheme + \":\";\n    var nativeProtocol = nativeProtocols[protocol] = protocols[scheme];\n    var wrappedProtocol = exports[scheme] = Object.create(nativeProtocol);\n\n    // Executes a request, following redirects\n    function request(input, options, callback) {\n      // Parse parameters, ensuring that input is an object\n      if (isURL(input)) {\n        input = spreadUrlObject(input);\n      }\n      else if (isString(input)) {\n        input = spreadUrlObject(parseUrl(input));\n      }\n      else {\n        callback = options;\n        options = validateUrl(input);\n        input = { protocol: protocol };\n      }\n      if (isFunction(options)) {\n        callback = options;\n        options = null;\n      }\n\n      // Set defaults\n      options = Object.assign({\n        maxRedirects: exports.maxRedirects,\n        maxBodyLength: exports.maxBodyLength,\n      }, input, options);\n      options.nativeProtocols = nativeProtocols;\n      if (!isString(options.host) && !isString(options.hostname)) {\n        options.hostname = \"::1\";\n      }\n\n      assert.equal(options.protocol, protocol, \"protocol mismatch\");\n      debug(\"options\", options);\n      return new RedirectableRequest(options, callback);\n    }\n\n    // Executes a GET request, following redirects\n    function get(input, options, callback) {\n      var wrappedRequest = wrappedProtocol.request(input, options, callback);\n      wrappedRequest.end();\n      return wrappedRequest;\n    }\n\n    // Expose the properties on the wrapped protocol\n    Object.defineProperties(wrappedProtocol, {\n      request: { value: request, configurable: true, enumerable: true, writable: true },\n      get: { value: get, configurable: true, enumerable: true, writable: true },\n    });\n  });\n  return exports;\n}\n\nfunction noop() { /* empty */ }\n\nfunction parseUrl(input) {\n  var parsed;\n  // istanbul ignore else\n  if (useNativeURL) {\n    parsed = new URL(input);\n  }\n  else {\n    // Ensure the URL is valid and absolute\n    parsed = validateUrl(url.parse(input));\n    if (!isString(parsed.protocol)) {\n      throw new InvalidUrlError({ input });\n    }\n  }\n  return parsed;\n}\n\nfunction resolveUrl(relative, base) {\n  // istanbul ignore next\n  return useNativeURL ? new URL(relative, base) : parseUrl(url.resolve(base, relative));\n}\n\nfunction validateUrl(input) {\n  if (/^\\[/.test(input.hostname) && !/^\\[[:0-9a-f]+\\]$/i.test(input.hostname)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  if (/^\\[/.test(input.host) && !/^\\[[:0-9a-f]+\\](:\\d+)?$/i.test(input.host)) {\n    throw new InvalidUrlError({ input: input.href || input });\n  }\n  return input;\n}\n\nfunction spreadUrlObject(urlObject, target) {\n  var spread = target || {};\n  for (var key of preservedUrlFields) {\n    spread[key] = urlObject[key];\n  }\n\n  // Fix IPv6 hostname\n  if (spread.hostname.startsWith(\"[\")) {\n    spread.hostname = spread.hostname.slice(1, -1);\n  }\n  // Ensure port is a number\n  if (spread.port !== \"\") {\n    spread.port = Number(spread.port);\n  }\n  // Concatenate path\n  spread.path = spread.search ? spread.pathname + spread.search : spread.pathname;\n\n  return spread;\n}\n\nfunction removeMatchingHeaders(regex, headers) {\n  var lastValue;\n  for (var header in headers) {\n    if (regex.test(header)) {\n      lastValue = headers[header];\n      delete headers[header];\n    }\n  }\n  return (lastValue === null || typeof lastValue === \"undefined\") ?\n    undefined : String(lastValue).trim();\n}\n\nfunction createErrorType(code, message, baseClass) {\n  // Create constructor\n  function CustomError(properties) {\n    // istanbul ignore else\n    if (isFunction(Error.captureStackTrace)) {\n      Error.captureStackTrace(this, this.constructor);\n    }\n    Object.assign(this, properties || {});\n    this.code = code;\n    this.message = this.cause ? message + \": \" + this.cause.message : message;\n  }\n\n  // Attach constructor and set default properties\n  CustomError.prototype = new (baseClass || Error)();\n  Object.defineProperties(CustomError.prototype, {\n    constructor: {\n      value: CustomError,\n      enumerable: false,\n    },\n    name: {\n      value: \"Error [\" + code + \"]\",\n      enumerable: false,\n    },\n  });\n  return CustomError;\n}\n\nfunction destroyRequest(request, error) {\n  for (var event of events) {\n    request.removeListener(event, eventHandlers[event]);\n  }\n  request.on(\"error\", noop);\n  request.destroy(error);\n}\n\nfunction isSubdomain(subdomain, domain) {\n  assert(isString(subdomain) && isString(domain));\n  var dot = subdomain.length - domain.length - 1;\n  return dot > 0 && subdomain[dot] === \".\" && subdomain.endsWith(domain);\n}\n\nfunction isString(value) {\n  return typeof value === \"string\" || value instanceof String;\n}\n\nfunction isFunction(value) {\n  return typeof value === \"function\";\n}\n\nfunction isBuffer(value) {\n  return typeof value === \"object\" && (\"length\" in value);\n}\n\nfunction isURL(value) {\n  return URL && value instanceof URL;\n}\n\n// Exports\nmodule.exports = wrap({ http: http, https: https });\nmodule.exports.wrap = wrap;\n","/**\n * Helpers.\n */\n\nvar s = 1000;\nvar m = s * 60;\nvar h = m * 60;\nvar d = h * 24;\nvar w = d * 7;\nvar y = d * 365.25;\n\n/**\n * Parse or format the given `val`.\n *\n * Options:\n *\n *  - `long` verbose formatting [false]\n *\n * @param {String|Number} val\n * @param {Object} [options]\n * @throws {Error} throw an error if val is not a non-empty string or a number\n * @return {String|Number}\n * @api public\n */\n\nmodule.exports = function(val, options) {\n  options = options || {};\n  var type = typeof val;\n  if (type === 'string' && val.length > 0) {\n    return parse(val);\n  } else if (type === 'number' && isFinite(val)) {\n    return options.long ? fmtLong(val) : fmtShort(val);\n  }\n  throw new Error(\n    'val is not a non-empty string or a valid number. val=' +\n      JSON.stringify(val)\n  );\n};\n\n/**\n * Parse the given `str` and return milliseconds.\n *\n * @param {String} str\n * @return {Number}\n * @api private\n */\n\nfunction parse(str) {\n  str = String(str);\n  if (str.length > 100) {\n    return;\n  }\n  var match = /^(-?(?:\\d+)?\\.?\\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(\n    str\n  );\n  if (!match) {\n    return;\n  }\n  var n = parseFloat(match[1]);\n  var type = (match[2] || 'ms').toLowerCase();\n  switch (type) {\n    case 'years':\n    case 'year':\n    case 'yrs':\n    case 'yr':\n    case 'y':\n      return n * y;\n    case 'weeks':\n    case 'week':\n    case 'w':\n      return n * w;\n    case 'days':\n    case 'day':\n    case 'd':\n      return n * d;\n    case 'hours':\n    case 'hour':\n    case 'hrs':\n    case 'hr':\n    case 'h':\n      return n * h;\n    case 'minutes':\n    case 'minute':\n    case 'mins':\n    case 'min':\n    case 'm':\n      return n * m;\n    case 'seconds':\n    case 'second':\n    case 'secs':\n    case 'sec':\n    case 's':\n      return n * s;\n    case 'milliseconds':\n    case 'millisecond':\n    case 'msecs':\n    case 'msec':\n    case 'ms':\n      return n;\n    default:\n      return undefined;\n  }\n}\n\n/**\n * Short format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtShort(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return Math.round(ms / d) + 'd';\n  }\n  if (msAbs >= h) {\n    return Math.round(ms / h) + 'h';\n  }\n  if (msAbs >= m) {\n    return Math.round(ms / m) + 'm';\n  }\n  if (msAbs >= s) {\n    return Math.round(ms / s) + 's';\n  }\n  return ms + 'ms';\n}\n\n/**\n * Long format for `ms`.\n *\n * @param {Number} ms\n * @return {String}\n * @api private\n */\n\nfunction fmtLong(ms) {\n  var msAbs = Math.abs(ms);\n  if (msAbs >= d) {\n    return plural(ms, msAbs, d, 'day');\n  }\n  if (msAbs >= h) {\n    return plural(ms, msAbs, h, 'hour');\n  }\n  if (msAbs >= m) {\n    return plural(ms, msAbs, m, 'minute');\n  }\n  if (msAbs >= s) {\n    return plural(ms, msAbs, s, 'second');\n  }\n  return ms + ' ms';\n}\n\n/**\n * Pluralization helper.\n */\n\nfunction plural(ms, msAbs, n, name) {\n  var isPlural = msAbs >= n * 1.5;\n  return Math.round(ms / n) + ' ' + name + (isPlural ? 's' : '');\n}\n","module.exports = require(\"assert\");","module.exports = require(\"child_process\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"process\");","module.exports = require(\"stream\");","module.exports = require(\"tty\");","module.exports = require(\"url\");","module.exports = require(\"util\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(431);\n"],"names":["__createBinding","this","Object","create","o","m","k","k2","undefined","desc","getOwnPropertyDescriptor","__esModule","writable","configurable","enumerable","get","defineProperty","__exportStar","exports","p","prototype","hasOwnProperty","call","value","sdk","MixinDeviceBase","ScryptedDeviceBase","index_1","DeviceBase","constructor","nativeId","super","storage","_storage","deviceManager","getDeviceStorage","log","_log","getDeviceLogger","console","_console","getDeviceConsole","createMediaObject","data","mimeType","mediaManager","sourceId","id","getMediaObjectConsole","mediaObject","getMixinConsole","_lazyLoadDeviceState","_deviceState","getDeviceState","onDeviceEvent","eventInterface","eventData","options","_listeners","Set","mixinDevice","mixinDeviceInterfaces","mixinStorageSuffix","mixinDeviceState","systemManager","getDeviceById","mixinProviderNativeId","__rpcproxy_traps_all_properties","createDeviceState","setState","mixinStorageKey","getMixinStorage","onMixinEvent","manageListener","listener","add","release","l","removeListener","_createGetState","state","_createSetState","warn","field","values","ScryptedInterfaceProperty","set","runtimeAPI","pluginRuntimeAPI","e","assign","endpointManager","pluginHostAPI","setScryptedInterfaceDescriptors","TYPES_VERSION","ScryptedInterfaceDescriptors","catch","error","__setModuleDefault","v","__importStar","mod","result","StorageSettings","_1","default","device","settings","hasValue","key","keys","setting","rawGet","getItem","type","JSON","parse","putSetting","ret","getSettings","onGet","entries","s","hide","getItemInternal","push","onPut","mapPut","mapGet","oldValue","putSettingInternal","noStore","removeItem","setItem","stringify","toString","ScryptedInterface","Settings","rawDevice","readDefaultValue","multiple","n","parseFloat","isNaN","parseInt","json","parseValue","persistedDefaultValue","defaultValue","ScryptedMimeTypes","MediaPlayerState","SecuritySystemObstruction","SecuritySystemMode","AirQuality","AirPurifierMode","AirPurifierStatus","ChargeState","LockState","PanTiltZoomMovement","ThermostatMode","TemperatureUnit","FanMode","HumidityMode","ScryptedDeviceType","ScryptedInterfaceMethod","ScryptedDevice","name","methods","properties","ScryptedPlugin","ScryptedPluginRuntime","OnOff","Brightness","ColorSettingTemperature","ColorSettingRgb","ColorSettingHsv","Notifier","StartStop","Pause","Dock","TemperatureSetting","Thermometer","HumiditySensor","Camera","Microphone","AudioVolumeControl","Display","VideoCamera","VideoCameraMask","VideoRecorder","VideoRecorderManagement","PanTiltZoom","EventRecorder","VideoClips","VideoCameraConfiguration","Intercom","Lock","PasswordStore","Scene","Entry","EntrySensor","DeviceProvider","DeviceDiscovery","DeviceCreator","Battery","Charger","Reboot","Refresh","MediaPlayer","Online","BufferConverter","MediaConverter","BinarySensor","TamperSensor","PowerSensor","AudioSensor","MotionSensor","AmbientLightSensor","OccupancySensor","FloodSensor","UltravioletSensor","LuminanceSensor","PositionSensor","SecuritySystem","PM10Sensor","PM25Sensor","VOCSensor","NOXSensor","CO2Sensor","AirQualitySensor","AirPurifier","FilterMaintenance","Readme","OauthClient","MixinProvider","HttpRequestHandler","EngineIOHandler","PushHandler","Program","Scriptable","ObjectTracker","ObjectDetector","ObjectDetection","ObjectDetectionPreview","ObjectDetectionGenerator","HumiditySetting","Fan","RTCSignalingChannel","RTCSignalingClient","LauncherApplication","ScryptedUser","VideoFrameGenerator","StreamService","TTY","TTYSettings","ScryptedSystemDevice","ScryptedDeviceCreator","ScryptedSettings","safeKillFFmpeg","ffmpegLogInitialOutput","safePrintFFmpegArguments","DiagnosticsPlugin","storageSettings","testDevice","group","title","description","deviceFilter","Doorbell","immediate","validateDevice","async","validateSystem","loggedMotion","Map","loggedButton","on","listen","eventSource","eventDetails","Date","now","warnStep","padEnd","validate","stepName","step","Function","message","Error","validateCamera","validateNotifier","logo","httpFetch","url","responseType","mo","body","sendNotification","subtitle","android","channel","interfaces","includes","providedInterfaces","find","i","startsWith","lastMotion","lastButton","validateMedia","snapshot","and","jpeg","convertMediaObjectToBuffer","metadata","width","height","pluginId","takePicture","reason","vsos","getVideoStreamOptions","length","filter","vso","source","destinations","Math","min","getVideoStream","destination","prebuffer","validated","validateMediaStream","streamId","has","ffmpegInput","convertMediaObjectToJSON","FFmpegInput","mediaStreamOptions","video","codec","start","codecs","audio","size","nvrPlugin","cloudPlugin","hasCUDA","process","env","NVIDIA_VISIBLE_DEVICES","NVIDIA_DRIVER_CAPABILITIES","onnxPlugin","openvinoPlugin","SCRYPTED_INSTALL_ENVIRONMENT","platform","family","timeout","then","r","ip","trim","addresses","getLocalAddresses","hasIPv4","address","isIPv4","hasIPv6","isIPv6","join","cpus","totalmem","floor","existsSync","c","model","convertMediaObjectToUrl","logoCheck","Buffer","compare","shortUrl","convertMediaObject","Url","shortLogoCheck","executionDevice","zidane","createMediaObjectFromUrl","detectObjects","detections","d","className","score","availbleDevices","ffmpegPath","getFFmpegPath","hasVaapi","args","cp","spawn","stdio","deferred","Deferred","promise","finally","stderr","str","resolve","setTimeout","reject","std","stdout","buffers","buffer","exitCode","once","concat","Image","defunctPlugins","found","plugin","finished","Promise","resolvePromise","headers","createHeadersArray","setDefaultHttpFetchAccept","PassThrough","Readable","http","https","proto","controller","newBody","write","from","createStringOrBufferBody","end","AbortController","abort","signal","addEventListener","request","destroy","nodeHeaders","method","getFetchMethod","rejectUnauthorized","pipe","response","checkStatusCode","checker","checkStatus","statusCode","readMessageBuffer","incomingHeaders","Headers","vv","append","httpFetchParseIncomingMessage","clearTimeout","TextParser","JSONParser","BufferParser","StreamParser","getHttpFetchParser","readable","fetchStatusCodeOk","getHttpFetchAccept","hasHeader","toLowerCase","removeHeader","filteredHeaders","headerKey","_","forEach","header","setHeader","accept","headersArray","Array","contentType","domFetchParseIncomingMessage","text","Uint8Array","arrayBuffer","ReadableStream","fetch","credentials","withCredentials","status","stdin","sleep","f","kill","forever","SCRYPTED_FFMPEG_NOISY","logger","filtered","indexOf","redactNext","arg","URL","protocol","ms","sharp","module","formatArgs","useColors","namespace","humanize","diff","color","splice","index","lastC","replace","match","save","namespaces","load","DEBUG","window","__nwjs","navigator","userAgent","document","documentElement","style","WebkitAppearance","firebug","exception","table","RegExp","$1","localStorage","localstorage","warned","colors","debug","formatters","j","createDebug","prevTime","namespacesCache","enabledCache","enableOverride","enabled","self","curr","Number","prev","coerce","unshift","format","formatter","val","apply","selectColor","extend","init","delimiter","newDebug","toNamespace","regexp","substring","stack","disable","names","map","skips","enable","split","len","slice","test","hash","charCodeAt","abs","browser","tty","util","inspectOpts","colorCode","prefix","hideDate","toISOString","getDate","Boolean","isatty","fd","deprecate","supportsColor","level","reduce","obj","prop","toUpperCase","inspect","O","arguments","looksLikeNode","looksLikeBrowser","looksLikeV8","Writable","assert","isFunction","captureStackTrace","useNativeURL","code","preservedUrlFields","events","eventHandlers","event","arg1","arg2","arg3","_redirectable","emit","InvalidUrlError","createErrorType","TypeError","RedirectionError","TooManyRedirectsError","MaxBodyLengthExceededError","WriteAfterEndError","noop","RedirectableRequest","responseCallback","_sanitizeOptions","_options","_ended","_ending","_redirectCount","_redirects","_requestBodyLength","_requestBodyBuffers","_onNativeResponse","_processResponse","cause","_performRequest","wrap","protocols","maxRedirects","maxBodyLength","nativeProtocols","scheme","nativeProtocol","wrappedProtocol","defineProperties","input","callback","spreadUrlObject","isString","parseUrl","validateUrl","host","hostname","equal","wrappedRequest","parsed","href","urlObject","target","spread","port","path","search","pathname","removeMatchingHeaders","regex","lastValue","String","baseClass","CustomError","destroyRequest","_currentRequest","encoding","currentRequest","msecs","destroyOnTimeout","socket","addListener","startTimer","_timeout","clearTimer","a","b","property","searchPos","agents","agent","_currentUrl","_isRedirect","writeNext","trackRedirects","requestHeaders","location","followRedirects","responseUrl","redirects","beforeRedirect","Host","req","getHeader","relative","base","currentHostHeader","currentUrlParts","currentHost","currentUrl","redirectUrl","subdomain","domain","dot","endsWith","isSubdomain","responseDetails","requestDetails","h","w","y","plural","msAbs","isPlural","round","exec","isFinite","long","fmtLong","fmtShort","require","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__"],"sourceRoot":""}